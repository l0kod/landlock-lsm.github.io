

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>WHAT IS Flash-Friendly File System (F2FS)? &mdash; The Linux Kernel 5.11.0-rc4+ documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Global File System 2" href="gfs2.html" />
    <link rel="prev" title="Ext3 Filesystem" href="ext3.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.11.0-rc4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Filesystems in the Linux kernel</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="index.html#core-vfs-documentation">Core VFS documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#filesystem-support-layers">Filesystem support layers</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html#filesystems">Filesystems</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="9p.html">v9fs: Plan 9 Resource Sharing for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="adfs.html">Acorn Disc Filing System - ADFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="affs.html">Overview of Amiga Filesystems</a></li>
<li class="toctree-l3"><a class="reference internal" href="afs.html">kAFS: AFS FILESYSTEM</a></li>
<li class="toctree-l3"><a class="reference internal" href="autofs.html">autofs - how it works</a></li>
<li class="toctree-l3"><a class="reference internal" href="autofs-mount-control.html">Miscellaneous Device control operations for the autofs kernel module</a></li>
<li class="toctree-l3"><a class="reference internal" href="befs.html">BeOS filesystem for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="bfs.html">BFS Filesystem for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="btrfs.html">BTRFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="cifs/cifsroot.html">Mounting root file system via SMB (cifs.ko)</a></li>
<li class="toctree-l3"><a class="reference internal" href="ceph.html">Ceph Distributed File System</a></li>
<li class="toctree-l3"><a class="reference internal" href="coda.html">Coda Kernel-Venus Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="configfs.html">Configfs - Userspace-driven Kernel Object Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="cramfs.html">Cramfs - cram a filesystem onto a small ROM</a></li>
<li class="toctree-l3"><a class="reference internal" href="debugfs.html">DebugFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="dlmfs.html">DLMFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="ecryptfs.html">eCryptfs: A stacked cryptographic filesystem for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="efivarfs.html">efivarfs - a (U)EFI variable filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="erofs.html">Enhanced Read-Only File System - EROFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="ext2.html">The Second Extended Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="ext3.html">Ext3 Filesystem</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">WHAT IS Flash-Friendly File System (F2FS)?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#background-and-design-issues">Background and Design issues</a></li>
<li class="toctree-l4"><a class="reference internal" href="#key-features">Key Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mount-options">Mount Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#debugfs-entries">Debugfs Entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sysfs-entries">Sysfs Entries</a></li>
<li class="toctree-l4"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l4"><a class="reference internal" href="#design">Design</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="gfs2.html">Global File System 2</a></li>
<li class="toctree-l3"><a class="reference internal" href="gfs2-uevents.html">uevents and GFS2</a></li>
<li class="toctree-l3"><a class="reference internal" href="gfs2-glocks.html">Glock internal locking rules</a></li>
<li class="toctree-l3"><a class="reference internal" href="hfs.html">Macintosh HFS Filesystem for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="hfsplus.html">Macintosh HFSPlus Filesystem for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="hpfs.html">Read/Write HPFS 2.09</a></li>
<li class="toctree-l3"><a class="reference internal" href="fuse.html">FUSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="fuse-io.html">Fuse I/O Modes</a></li>
<li class="toctree-l3"><a class="reference internal" href="inotify.html">Inotify - A Powerful yet Simple File Change Notification System</a></li>
<li class="toctree-l3"><a class="reference internal" href="isofs.html">ISO9660 Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="nilfs2.html">NILFS2</a></li>
<li class="toctree-l3"><a class="reference internal" href="nfs/index.html">NFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="ntfs.html">The Linux NTFS filesystem driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocfs2.html">OCFS2 filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="ocfs2-online-filecheck.html">OCFS2 file system - online file check</a></li>
<li class="toctree-l3"><a class="reference internal" href="omfs.html">Optimized MPEG Filesystem (OMFS)</a></li>
<li class="toctree-l3"><a class="reference internal" href="orangefs.html">ORANGEFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="overlayfs.html">Overlay Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="proc.html">The /proc Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="qnx6.html">The QNX6 Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="ramfs-rootfs-initramfs.html">Ramfs, rootfs and initramfs</a></li>
<li class="toctree-l3"><a class="reference internal" href="relay.html">relay interface (formerly relayfs)</a></li>
<li class="toctree-l3"><a class="reference internal" href="romfs.html">ROMFS - ROM File System</a></li>
<li class="toctree-l3"><a class="reference internal" href="spufs/index.html">SPU Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="squashfs.html">Squashfs 4.0 Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysfs.html">sysfs - _The_ filesystem for exporting kernel objects</a></li>
<li class="toctree-l3"><a class="reference internal" href="sysv-fs.html">SystemV Filesystem</a></li>
<li class="toctree-l3"><a class="reference internal" href="tmpfs.html">Tmpfs</a></li>
<li class="toctree-l3"><a class="reference internal" href="ubifs.html">UBI File System</a></li>
<li class="toctree-l3"><a class="reference internal" href="ubifs-authentication.html">UBIFS Authentication Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="udf.html">UDF file system</a></li>
<li class="toctree-l3"><a class="reference internal" href="virtiofs.html">virtiofs: virtio-fs host&lt;-&gt;guest shared file system</a></li>
<li class="toctree-l3"><a class="reference internal" href="vfat.html">VFAT</a></li>
<li class="toctree-l3"><a class="reference internal" href="xfs-delayed-logging-design.html">XFS Delayed Logging Design</a></li>
<li class="toctree-l3"><a class="reference internal" href="xfs-self-describing-metadata.html">XFS Self Describing Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="zonefs.html">ZoneFS - Zone filesystem for Zoned block devices</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/index.html">Nios II Specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Filesystems in the Linux kernel</a> &raquo;</li>
        
      <li>WHAT IS Flash-Friendly File System (F2FS)?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/filesystems/f2fs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="what-is-flash-friendly-file-system-f2fs">
<h1>WHAT IS Flash-Friendly File System (F2FS)?<a class="headerlink" href="#what-is-flash-friendly-file-system-f2fs" title="Permalink to this headline">¶</a></h1>
<p>NAND flash memory-based storage devices, such as SSD, eMMC, and SD cards, have
been equipped on a variety systems ranging from mobile to server systems. Since
they are known to have different characteristics from the conventional rotating
disks, a file system, an upper layer to the storage device, should adapt to the
changes from the sketch in the design level.</p>
<p>F2FS is a file system exploiting NAND flash memory-based storage devices, which
is based on Log-structured File System (LFS). The design has been focused on
addressing the fundamental issues in LFS, which are snowball effect of wandering
tree and high cleaning overhead.</p>
<p>Since a NAND flash memory-based storage device shows different characteristic
according to its internal geometry or flash memory management scheme, namely FTL,
F2FS and its tools support various parameters not only for configuring on-disk
layout, but also for selecting allocation and cleaning algorithms.</p>
<p>The following git tree provides the file system formatting tool (mkfs.f2fs),
a consistency checking tool (fsck.f2fs), and a debugging tool (dump.f2fs).</p>
<ul class="simple">
<li><p>git://git.kernel.org/pub/scm/linux/kernel/git/jaegeuk/f2fs-tools.git</p></li>
</ul>
<p>For reporting bugs and sending patches, please use the following mailing list:</p>
<ul class="simple">
<li><p><a class="reference external" href="mailto:linux-f2fs-devel&#37;&#52;&#48;lists&#46;sourceforge&#46;net">linux-f2fs-devel<span>&#64;</span>lists<span>&#46;</span>sourceforge<span>&#46;</span>net</a></p></li>
</ul>
<div class="section" id="background-and-design-issues">
<h2>Background and Design issues<a class="headerlink" href="#background-and-design-issues" title="Permalink to this headline">¶</a></h2>
<div class="section" id="log-structured-file-system-lfs">
<h3>Log-structured File System (LFS)<a class="headerlink" href="#log-structured-file-system-lfs" title="Permalink to this headline">¶</a></h3>
<p>“A log-structured file system writes all modifications to disk sequentially in
a log-like structure, thereby speeding up  both file writing and crash recovery.
The log is the only structure on disk; it contains indexing information so that
files can be read back from the log efficiently. In order to maintain large free
areas on disk for fast writing, we divide  the log into segments and use a
segment cleaner to compress the live information from heavily fragmented
segments.” from Rosenblum, M. and Ousterhout, J. K., 1992, “The design and
implementation of a log-structured file system”, ACM Trans. Computer Systems
10, 1, 26–52.</p>
</div>
<div class="section" id="wandering-tree-problem">
<h3>Wandering Tree Problem<a class="headerlink" href="#wandering-tree-problem" title="Permalink to this headline">¶</a></h3>
<p>In LFS, when a file data is updated and written to the end of log, its direct
pointer block is updated due to the changed location. Then the indirect pointer
block is also updated due to the direct pointer block update. In this manner,
the upper index structures such as inode, inode map, and checkpoint block are
also updated recursively. This problem is called as wandering tree problem [1],
and in order to enhance the performance, it should eliminate or relax the update
propagation as much as possible.</p>
<p>[1] Bityutskiy, A. 2005. JFFS3 design issues. <a class="reference external" href="http://www.linux-mtd.infradead.org/">http://www.linux-mtd.infradead.org/</a></p>
</div>
<div class="section" id="cleaning-overhead">
<h3>Cleaning Overhead<a class="headerlink" href="#cleaning-overhead" title="Permalink to this headline">¶</a></h3>
<p>Since LFS is based on out-of-place writes, it produces so many obsolete blocks
scattered across the whole storage. In order to serve new empty log space, it
needs to reclaim these obsolete blocks seamlessly to users. This job is called
as a cleaning process.</p>
<p>The process consists of three operations as follows.</p>
<ol class="arabic simple">
<li><p>A victim segment is selected through referencing segment usage table.</p></li>
<li><p>It loads parent index structures of all the data in the victim identified by
segment summary blocks.</p></li>
<li><p>It checks the cross-reference between the data and its parent index structure.</p></li>
<li><p>It moves valid data selectively.</p></li>
</ol>
<p>This cleaning job may cause unexpected long delays, so the most important goal
is to hide the latencies to users. And also definitely, it should reduce the
amount of valid data to be moved, and move them quickly as well.</p>
</div>
</div>
<div class="section" id="key-features">
<h2>Key Features<a class="headerlink" href="#key-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="flash-awareness">
<h3>Flash Awareness<a class="headerlink" href="#flash-awareness" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Enlarge the random write area for better performance, but provide the high
spatial locality</p></li>
<li><p>Align FS data structures to the operational units in FTL as best efforts</p></li>
</ul>
</div>
<div class="section" id="id1">
<h3>Wandering Tree Problem<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Use a term, “node”, that represents inodes as well as various pointer blocks</p></li>
<li><p>Introduce Node Address Table (NAT) containing the locations of all the “node”
blocks; this will cut off the update propagation.</p></li>
</ul>
</div>
<div class="section" id="id2">
<h3>Cleaning Overhead<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Support a background cleaning process</p></li>
<li><p>Support greedy and cost-benefit algorithms for victim selection policies</p></li>
<li><p>Support multi-head logs for static/dynamic hot and cold data separation</p></li>
<li><p>Introduce adaptive logging for efficient block allocation</p></li>
</ul>
</div>
</div>
<div class="section" id="mount-options">
<h2>Mount Options<a class="headerlink" href="#mount-options" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 27%" />
<col style="width: 73%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>background_gc=%s</p></td>
<td><p>Turn on/off cleaning operations, namely garbage
collection, triggered in background when I/O subsystem is
idle. If background_gc=on, it will turn on the garbage
collection and if background_gc=off, garbage collection
will be turned off. If background_gc=sync, it will turn
on synchronous garbage collection running in background.
Default value for this option is on. So garbage
collection is on by default.</p></td>
</tr>
<tr class="row-even"><td><p>disable_roll_forward</p></td>
<td><p>Disable the roll-forward recovery routine</p></td>
</tr>
<tr class="row-odd"><td><p>norecovery</p></td>
<td><p>Disable the roll-forward recovery routine, mounted read-
only (i.e., -o ro,disable_roll_forward)</p></td>
</tr>
<tr class="row-even"><td><p>discard/nodiscard</p></td>
<td><p>Enable/disable real-time discard in f2fs, if discard is
enabled, f2fs will issue discard/TRIM commands when a
segment is cleaned.</p></td>
</tr>
<tr class="row-odd"><td><p>no_heap</p></td>
<td><p>Disable heap-style segment allocation which finds free
segments for data from the beginning of main area, while
for node from the end of main area.</p></td>
</tr>
<tr class="row-even"><td><p>nouser_xattr</p></td>
<td><p>Disable Extended User Attributes. Note: xattr is enabled
by default if CONFIG_F2FS_FS_XATTR is selected.</p></td>
</tr>
<tr class="row-odd"><td><p>noacl</p></td>
<td><p>Disable POSIX Access Control List. Note: acl is enabled
by default if CONFIG_F2FS_FS_POSIX_ACL is selected.</p></td>
</tr>
<tr class="row-even"><td><p>active_logs=%u</p></td>
<td><p>Support configuring the number of active logs. In the
current design, f2fs supports only 2, 4, and 6 logs.
Default number is 6.</p></td>
</tr>
<tr class="row-odd"><td><p>disable_ext_identify</p></td>
<td><p>Disable the extension list configured by mkfs, so f2fs
is not aware of cold files such as media files.</p></td>
</tr>
<tr class="row-even"><td><p>inline_xattr</p></td>
<td><p>Enable the inline xattrs feature.</p></td>
</tr>
<tr class="row-odd"><td><p>noinline_xattr</p></td>
<td><p>Disable the inline xattrs feature.</p></td>
</tr>
<tr class="row-even"><td><p>inline_xattr_size=%u</p></td>
<td><p>Support configuring inline xattr size, it depends on
flexible inline xattr feature.</p></td>
</tr>
<tr class="row-odd"><td><p>inline_data</p></td>
<td><p>Enable the inline data feature: Newly created small (&lt;~3.4k)
files can be written into inode block.</p></td>
</tr>
<tr class="row-even"><td><p>inline_dentry</p></td>
<td><p>Enable the inline dir feature: data in newly created
directory entries can be written into inode block. The
space of inode block which is used to store inline
dentries is limited to ~3.4k.</p></td>
</tr>
<tr class="row-odd"><td><p>noinline_dentry</p></td>
<td><p>Disable the inline dentry feature.</p></td>
</tr>
<tr class="row-even"><td><p>flush_merge</p></td>
<td><p>Merge concurrent cache_flush commands as much as possible
to eliminate redundant command issues. If the underlying
device handles the cache_flush command relatively slowly,
recommend to enable this option.</p></td>
</tr>
<tr class="row-odd"><td><p>nobarrier</p></td>
<td><p>This option can be used if underlying storage guarantees
its cached data should be written to the novolatile area.
If this option is set, no cache_flush commands are issued
but f2fs still guarantees the write ordering of all the
data writes.</p></td>
</tr>
<tr class="row-even"><td><p>fastboot</p></td>
<td><p>This option is used when a system wants to reduce mount
time as much as possible, even though normal performance
can be sacrificed.</p></td>
</tr>
<tr class="row-odd"><td><p>extent_cache</p></td>
<td><p>Enable an extent cache based on rb-tree, it can cache
as many as extent which map between contiguous logical
address and physical address per inode, resulting in
increasing the cache hit ratio. Set by default.</p></td>
</tr>
<tr class="row-even"><td><p>noextent_cache</p></td>
<td><p>Disable an extent cache based on rb-tree explicitly, see
the above extent_cache mount option.</p></td>
</tr>
<tr class="row-odd"><td><p>noinline_data</p></td>
<td><p>Disable the inline data feature, inline data feature is
enabled by default.</p></td>
</tr>
<tr class="row-even"><td><p>data_flush</p></td>
<td><p>Enable data flushing before checkpoint in order to
persist data of regular and symlink.</p></td>
</tr>
<tr class="row-odd"><td><p>reserve_root=%d</p></td>
<td><p>Support configuring reserved space which is used for
allocation from a privileged user with specified uid or
gid, unit: 4KB, the default limit is 0.2% of user blocks.</p></td>
</tr>
<tr class="row-even"><td><p>resuid=%d</p></td>
<td><p>The user ID which may use the reserved blocks.</p></td>
</tr>
<tr class="row-odd"><td><p>resgid=%d</p></td>
<td><p>The group ID which may use the reserved blocks.</p></td>
</tr>
<tr class="row-even"><td><p>fault_injection=%d</p></td>
<td><p>Enable fault injection in all supported types with
specified injection rate.</p></td>
</tr>
<tr class="row-odd"><td><p>fault_type=%d</p></td>
<td><p>Support configuring fault injection type, should be
enabled with fault_injection option, fault type value
is shown below, it supports single or combined type.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 37%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type_Name</p></th>
<th class="head"><p>Type_Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>FAULT_KMALLOC</p></td>
<td><p>0x000000001</p></td>
</tr>
<tr class="row-odd"><td><p>FAULT_KVMALLOC</p></td>
<td><p>0x000000002</p></td>
</tr>
<tr class="row-even"><td><p>FAULT_PAGE_ALLOC</p></td>
<td><p>0x000000004</p></td>
</tr>
<tr class="row-odd"><td><p>FAULT_PAGE_GET</p></td>
<td><p>0x000000008</p></td>
</tr>
<tr class="row-even"><td><p>FAULT_ALLOC_BIO</p></td>
<td><p>0x000000010</p></td>
</tr>
<tr class="row-odd"><td><p>FAULT_ALLOC_NID</p></td>
<td><p>0x000000020</p></td>
</tr>
<tr class="row-even"><td><p>FAULT_ORPHAN</p></td>
<td><p>0x000000040</p></td>
</tr>
<tr class="row-odd"><td><p>FAULT_BLOCK</p></td>
<td><p>0x000000080</p></td>
</tr>
<tr class="row-even"><td><p>FAULT_DIR_DEPTH</p></td>
<td><p>0x000000100</p></td>
</tr>
<tr class="row-odd"><td><p>FAULT_EVICT_INODE</p></td>
<td><p>0x000000200</p></td>
</tr>
<tr class="row-even"><td><p>FAULT_TRUNCATE</p></td>
<td><p>0x000000400</p></td>
</tr>
<tr class="row-odd"><td><p>FAULT_READ_IO</p></td>
<td><p>0x000000800</p></td>
</tr>
<tr class="row-even"><td><p>FAULT_CHECKPOINT</p></td>
<td><p>0x000001000</p></td>
</tr>
<tr class="row-odd"><td><p>FAULT_DISCARD</p></td>
<td><p>0x000002000</p></td>
</tr>
<tr class="row-even"><td><p>FAULT_WRITE_IO</p></td>
<td><p>0x000004000</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>mode=%s</p></td>
<td><p>Control block allocation mode which supports “adaptive”
and “lfs”. In “lfs” mode, there should be no random
writes towards main area.</p></td>
</tr>
<tr class="row-even"><td><p>io_bits=%u</p></td>
<td><p>Set the bit size of write IO requests. It should be set
with “mode=lfs”.</p></td>
</tr>
<tr class="row-odd"><td><p>usrquota</p></td>
<td><p>Enable plain user disk quota accounting.</p></td>
</tr>
<tr class="row-even"><td><p>grpquota</p></td>
<td><p>Enable plain group disk quota accounting.</p></td>
</tr>
<tr class="row-odd"><td><p>prjquota</p></td>
<td><p>Enable plain project quota accounting.</p></td>
</tr>
<tr class="row-even"><td><p>usrjquota=&lt;file&gt;</p></td>
<td><p>Appoint specified file and type during mount, so that quota</p></td>
</tr>
<tr class="row-odd"><td><p>grpjquota=&lt;file&gt;</p></td>
<td><p>information can be properly updated during recovery flow,</p></td>
</tr>
<tr class="row-even"><td><p>prjjquota=&lt;file&gt;</p></td>
<td><p>&lt;quota file&gt;: must be in root directory;</p></td>
</tr>
<tr class="row-odd"><td><p>jqfmt=&lt;quota type&gt;</p></td>
<td><p>&lt;quota type&gt;: [vfsold,vfsv0,vfsv1].</p></td>
</tr>
<tr class="row-even"><td><p>offusrjquota</p></td>
<td><p>Turn off user journalled quota.</p></td>
</tr>
<tr class="row-odd"><td><p>offgrpjquota</p></td>
<td><p>Turn off group journalled quota.</p></td>
</tr>
<tr class="row-even"><td><p>offprjjquota</p></td>
<td><p>Turn off project journalled quota.</p></td>
</tr>
<tr class="row-odd"><td><p>quota</p></td>
<td><p>Enable plain user disk quota accounting.</p></td>
</tr>
<tr class="row-even"><td><p>noquota</p></td>
<td><p>Disable all plain disk quota option.</p></td>
</tr>
<tr class="row-odd"><td><p>whint_mode=%s</p></td>
<td><p>Control which write hints are passed down to block
layer. This supports “off”, “user-based”, and
“fs-based”.  In “off” mode (default), f2fs does not pass
down hints. In “user-based” mode, f2fs tries to pass
down hints given by users. And in “fs-based” mode, f2fs
passes down hints with its policy.</p></td>
</tr>
<tr class="row-even"><td><p>alloc_mode=%s</p></td>
<td><p>Adjust block allocation policy, which supports “reuse”
and “default”.</p></td>
</tr>
<tr class="row-odd"><td><p>fsync_mode=%s</p></td>
<td><p>Control the policy of fsync. Currently supports “posix”,
“strict”, and “nobarrier”. In “posix” mode, which is
default, fsync will follow POSIX semantics and does a
light operation to improve the filesystem performance.
In “strict” mode, fsync will be heavy and behaves in line
with xfs, ext4 and btrfs, where xfstest generic/342 will
pass, but the performance will regress. “nobarrier” is
based on “posix”, but doesn’t issue flush command for
non-atomic files likewise “nobarrier” mount option.</p></td>
</tr>
<tr class="row-even"><td><p>test_dummy_encryption</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>test_dummy_encryption=%s</p></td>
<td><p>Enable dummy encryption, which provides a fake fscrypt
context. The fake fscrypt context is used by xfstests.
The argument may be either “v1” or “v2”, in order to
select the corresponding fscrypt policy version.</p></td>
</tr>
<tr class="row-even"><td><p>checkpoint=%s[:%u[%]]</p></td>
<td><p>Set to “disable” to turn off checkpointing. Set to “enable”
to reenable checkpointing. Is enabled by default. While
disabled, any unmounting or unexpected shutdowns will cause
the filesystem contents to appear as they did when the
filesystem was mounted with that option.
While mounting with checkpoint=disabled, the filesystem must
run garbage collection to ensure that all available space can
be used. If this takes too much time, the mount may return
EAGAIN. You may optionally add a value to indicate how much
of the disk you would be willing to temporarily give up to
avoid additional garbage collection. This can be given as a
number of blocks, or as a percent. For instance, mounting
with checkpoint=disable:100% would always succeed, but it may
hide up to all remaining free space. The actual space that
would be unusable can be viewed at /sys/fs/f2fs/&lt;disk&gt;/unusable
This space is reclaimed once checkpoint=enable.</p></td>
</tr>
<tr class="row-odd"><td><p>compress_algorithm=%s</p></td>
<td><p>Control compress algorithm, currently f2fs supports “lzo”,
“lz4”, “zstd” and “lzo-rle” algorithm.</p></td>
</tr>
<tr class="row-even"><td><p>compress_log_size=%u</p></td>
<td><p>Support configuring compress cluster size, the size will
be 4KB * (1 &lt;&lt; %u), 16KB is minimum size, also it’s
default size.</p></td>
</tr>
<tr class="row-odd"><td><p>compress_extension=%s</p></td>
<td><p>Support adding specified extension, so that f2fs can enable
compression on those corresponding files, e.g. if all files
with ‘.ext’ has high compression rate, we can set the ‘.ext’
on compression extension list and enable compression on
these file by default rather than to enable it via ioctl.
For other files, we can still enable compression via ioctl.
Note that, there is one reserved special extension ‘*’, it
can be set to enable compression for all files.</p></td>
</tr>
<tr class="row-even"><td><p>compress_chksum</p></td>
<td><p>Support verifying chksum of raw data in compressed cluster.</p></td>
</tr>
<tr class="row-odd"><td><p>compress_mode=%s</p></td>
<td><p>Control file compression mode. This supports “fs” and “user”
modes. In “fs” mode (default), f2fs does automatic compression
on the compression enabled files. In “user” mode, f2fs disables
the automaic compression and gives the user discretion of
choosing the target file and the timing. The user can do manual
compression/decompression on the compression enabled files using
ioctls.</p></td>
</tr>
<tr class="row-even"><td><p>inlinecrypt</p></td>
<td><p>When possible, encrypt/decrypt the contents of encrypted
files using the blk-crypto framework rather than
filesystem-layer encryption. This allows the use of
inline encryption hardware. The on-disk format is
unaffected. For more details, see
<a class="reference internal" href="../block/inline-encryption.html"><span class="doc">Inline Encryption</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>atgc</p></td>
<td><p>Enable age-threshold garbage collection, it provides high
effectiveness and efficiency on background GC.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="debugfs-entries">
<h2>Debugfs Entries<a class="headerlink" href="#debugfs-entries" title="Permalink to this headline">¶</a></h2>
<p>/sys/kernel/debug/f2fs/ contains information about all the partitions mounted as
f2fs. Each file shows the whole f2fs information.</p>
<p>/sys/kernel/debug/f2fs/status includes:</p>
<blockquote>
<div><ul class="simple">
<li><p>major file system information managed by f2fs currently</p></li>
<li><p>average SIT information about whole segments</p></li>
<li><p>current memory footprint consumed by f2fs.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="sysfs-entries">
<h2>Sysfs Entries<a class="headerlink" href="#sysfs-entries" title="Permalink to this headline">¶</a></h2>
<p>Information about mounted f2fs file systems can be found in
/sys/fs/f2fs.  Each mounted filesystem will have a directory in
/sys/fs/f2fs based on its device name (i.e., /sys/fs/f2fs/sda).
The files in each per-device directory are shown in table below.</p>
<p>Files in /sys/fs/f2fs/&lt;devname&gt;
(see also Documentation/ABI/testing/sysfs-fs-f2fs)</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Download userland tools and compile them.</p></li>
<li><p>Skip, if f2fs was compiled statically inside kernel.
Otherwise, insert the f2fs.ko module:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># insmod f2fs.ko
</pre></div>
</div>
</li>
<li><p>Create a directory to use when mounting:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># mkdir /mnt/f2fs
</pre></div>
</div>
</li>
<li><p>Format the block device, and then mount as f2fs:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># mkfs.f2fs -l label /dev/block_device
# mount -t f2fs /dev/block_device /mnt/f2fs
</pre></div>
</div>
</li>
</ol>
<div class="section" id="mkfs-f2fs">
<h3>mkfs.f2fs<a class="headerlink" href="#mkfs-f2fs" title="Permalink to this headline">¶</a></h3>
<p>The mkfs.f2fs is for the use of formatting a partition as the f2fs filesystem,
which builds a basic on-disk layout.</p>
<p>The quick options consist of:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-l</span> <span class="pre">[label]</span></code></p></td>
<td><p>Give a volume label, up to 512 unicode name.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-a</span> <span class="pre">[0</span> <span class="pre">or</span> <span class="pre">1]</span></code></p></td>
<td><p>Split start location of each area for heap-based allocation.</p>
<p>1 is set by default, which performs this.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">[int]</span></code></p></td>
<td><p>Set overprovision ratio in percent over volume size.</p>
<p>5 is set by default.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">[int]</span></code></p></td>
<td><p>Set the number of segments per section.</p>
<p>1 is set by default.</p>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-z</span> <span class="pre">[int]</span></code></p></td>
<td><p>Set the number of sections per zone.</p>
<p>1 is set by default.</p>
</td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">[str]</span></code></p></td>
<td><p>Set basic extension list. e.g. “mp3,gif,mov”</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-t</span> <span class="pre">[0</span> <span class="pre">or</span> <span class="pre">1]</span></code></p></td>
<td><p>Disable discard command or not.</p>
<p>1 is set by default, which conducts discard.</p>
</td>
</tr>
</tbody>
</table>
<p>Note: please refer to the manpage of mkfs.f2fs(8) to get full option list.</p>
</div>
<div class="section" id="fsck-f2fs">
<h3>fsck.f2fs<a class="headerlink" href="#fsck-f2fs" title="Permalink to this headline">¶</a></h3>
<p>The fsck.f2fs is a tool to check the consistency of an f2fs-formatted
partition, which examines whether the filesystem metadata and user-made data
are cross-referenced correctly or not.
Note that, initial version of the tool does not fix any inconsistency.</p>
<p>The quick options consist of:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-d debug level [default:0]
</pre></div>
</div>
<p>Note: please refer to the manpage of fsck.f2fs(8) to get full option list.</p>
</div>
<div class="section" id="dump-f2fs">
<h3>dump.f2fs<a class="headerlink" href="#dump-f2fs" title="Permalink to this headline">¶</a></h3>
<p>The dump.f2fs shows the information of specific inode and dumps SSA and SIT to
file. Each file is dump_ssa and dump_sit.</p>
<p>The dump.f2fs is used to debug on-disk data structures of the f2fs filesystem.
It shows on-disk inode information recognized by a given inode number, and is
able to dump all the SSA and SIT entries into predefined files, ./dump_ssa and
./dump_sit respectively.</p>
<p>The options consist of:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>-d debug level [default:0]
-i inode no (hex)
-s [SIT dump segno from #1~#2 (decimal), for all 0~-1]
-a [SSA dump segno from #1~#2 (decimal), for all 0~-1]
</pre></div>
</div>
<p>Examples:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span># dump.f2fs -i [ino] /dev/sdx
# dump.f2fs -s 0~-1 /dev/sdx (SIT dump)
# dump.f2fs -a 0~-1 /dev/sdx (SSA dump)
</pre></div>
</div>
<p>Note: please refer to the manpage of dump.f2fs(8) to get full option list.</p>
</div>
<div class="section" id="sload-f2fs">
<h3>sload.f2fs<a class="headerlink" href="#sload-f2fs" title="Permalink to this headline">¶</a></h3>
<p>The sload.f2fs gives a way to insert files and directories in the exisiting disk
image. This tool is useful when building f2fs images given compiled files.</p>
<p>Note: please refer to the manpage of sload.f2fs(8) to get full option list.</p>
</div>
<div class="section" id="resize-f2fs">
<h3>resize.f2fs<a class="headerlink" href="#resize-f2fs" title="Permalink to this headline">¶</a></h3>
<p>The resize.f2fs lets a user resize the f2fs-formatted disk image, while preserving
all the files and directories stored in the image.</p>
<p>Note: please refer to the manpage of resize.f2fs(8) to get full option list.</p>
</div>
<div class="section" id="defrag-f2fs">
<h3>defrag.f2fs<a class="headerlink" href="#defrag-f2fs" title="Permalink to this headline">¶</a></h3>
<p>The defrag.f2fs can be used to defragment scattered written data as well as
filesystem metadata across the disk. This can improve the write speed by giving
more free consecutive space.</p>
<p>Note: please refer to the manpage of defrag.f2fs(8) to get full option list.</p>
</div>
<div class="section" id="f2fs-io">
<h3>f2fs_io<a class="headerlink" href="#f2fs-io" title="Permalink to this headline">¶</a></h3>
<p>The f2fs_io is a simple tool to issue various filesystem APIs as well as
f2fs-specific ones, which is very useful for QA tests.</p>
<p>Note: please refer to the manpage of f2fs_io(8) to get full option list.</p>
</div>
</div>
<div class="section" id="design">
<h2>Design<a class="headerlink" href="#design" title="Permalink to this headline">¶</a></h2>
<div class="section" id="on-disk-layout">
<h3>On-disk Layout<a class="headerlink" href="#on-disk-layout" title="Permalink to this headline">¶</a></h3>
<p>F2FS divides the whole volume into a number of segments, each of which is fixed
to 2MB in size. A section is composed of consecutive segments, and a zone
consists of a set of sections. By default, section and zone sizes are set to one
segment size identically, but users can easily modify the sizes by mkfs.</p>
<p>F2FS splits the entire volume into six areas, and all the areas except superblock
consist of multiple segments as described below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>                                        align with the zone size &lt;-|
             |-&gt; align with the segment size
 _________________________________________________________________________
|            |            |   Segment   |    Node     |   Segment  |      |
| Superblock | Checkpoint |    Info.    |   Address   |   Summary  | Main |
|    (SB)    |   (CP)     | Table (SIT) | Table (NAT) | Area (SSA) |      |
|____________|_____2______|______N______|______N______|______N_____|__N___|
                                                                   .      .
                                                         .                .
                                             .                            .
                                ._________________________________________.
                                |_Segment_|_..._|_Segment_|_..._|_Segment_|
                                .           .
                                ._________._________
                                |_section_|__...__|_
                                .            .
                                .________.
                                |__zone__|
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>Superblock (SB)</dt><dd><p>It is located at the beginning of the partition, and there exist two copies
to avoid file system crash. It contains basic partition information and some
default parameters of f2fs.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Checkpoint (CP)</dt><dd><p>It contains file system information, bitmaps for valid NAT/SIT sets, orphan
inode lists, and summary entries of current active segments.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Segment Information Table (SIT)</dt><dd><p>It contains segment information such as valid block count and bitmap for the
validity of all the blocks.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Node Address Table (NAT)</dt><dd><p>It is composed of a block address table for all the node blocks stored in
Main area.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Segment Summary Area (SSA)</dt><dd><p>It contains summary entries which contains the owner information of all the
data and node blocks stored in Main area.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Main Area</dt><dd><p>It contains file and directory data including their indices.</p>
</dd>
</dl>
</li>
</ul>
<p>In order to avoid misalignment between file system and flash-based storage, F2FS
aligns the start block address of CP with the segment size. Also, it aligns the
start block address of Main area with the zone size by reserving some segments
in SSA area.</p>
<p>Reference the following survey for additional technical details.
<a class="reference external" href="https://wiki.linaro.org/WorkingGroups/Kernel/Projects/FlashCardSurvey">https://wiki.linaro.org/WorkingGroups/Kernel/Projects/FlashCardSurvey</a></p>
</div>
<div class="section" id="file-system-metadata-structure">
<h3>File System Metadata Structure<a class="headerlink" href="#file-system-metadata-structure" title="Permalink to this headline">¶</a></h3>
<p>F2FS adopts the checkpointing scheme to maintain file system consistency. At
mount time, F2FS first tries to find the last valid checkpoint data by scanning
CP area. In order to reduce the scanning time, F2FS uses only two copies of CP.
One of them always indicates the last valid data, which is called as shadow copy
mechanism. In addition to CP, NAT and SIT also adopt the shadow copy mechanism.</p>
<p>For file system consistency, each CP points to which NAT and SIT copies are
valid, as shown as below:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>+--------+----------+---------+
|   CP   |    SIT   |   NAT   |
+--------+----------+---------+
.         .          .          .
.            .              .              .
.               .                 .                 .
+-------+-------+--------+--------+--------+--------+
| CP #0 | CP #1 | SIT #0 | SIT #1 | NAT #0 | NAT #1 |
+-------+-------+--------+--------+--------+--------+
   |             ^                          ^
   |             |                          |
   `----------------------------------------&#39;
</pre></div>
</div>
</div>
<div class="section" id="index-structure">
<h3>Index Structure<a class="headerlink" href="#index-structure" title="Permalink to this headline">¶</a></h3>
<p>The key data structure to manage the data locations is a “node”. Similar to
traditional file structures, F2FS has three types of node: inode, direct node,
indirect node. F2FS assigns 4KB to an inode block which contains 923 data block
indices, two direct node pointers, two indirect node pointers, and one double
indirect node pointer as described below. One direct node block contains 1018
data blocks, and one indirect node block contains also 1018 node blocks. Thus,
one inode block (i.e., a file) covers:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>4KB * (923 + 2 * 1018 + 2 * 1018 * 1018 + 1018 * 1018 * 1018) := 3.94TB.

 Inode block (4KB)
   |- data (923)
   |- direct node (2)
   |          `- data (1018)
   |- indirect node (2)
   |            `- direct node (1018)
   |                       `- data (1018)
   `- double indirect node (1)
                       `- indirect node (1018)
                                    `- direct node (1018)
                                               `- data (1018)
</pre></div>
</div>
<p>Note that all the node blocks are mapped by NAT which means the location of
each node is translated by the NAT table. In the consideration of the wandering
tree problem, F2FS is able to cut off the propagation of node updates caused by
leaf data writes.</p>
</div>
<div class="section" id="directory-structure">
<h3>Directory Structure<a class="headerlink" href="#directory-structure" title="Permalink to this headline">¶</a></h3>
<p>A directory entry occupies 11 bytes, which consists of the following attributes.</p>
<ul class="simple">
<li><p>hash          hash value of the file name</p></li>
<li><p>ino           inode number</p></li>
<li><p>len           the length of file name</p></li>
<li><p>type          file type such as directory, symlink, etc</p></li>
</ul>
<p>A dentry block consists of 214 dentry slots and file names. Therein a bitmap is
used to represent whether each dentry is valid or not. A dentry block occupies
4KB with the following composition.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Dentry Block(4 K) = bitmap (27 bytes) + reserved (3 bytes) +
                    dentries(11 * 214 bytes) + file name (8 * 214 bytes)

                       [Bucket]
           +--------------------------------+
           |dentry block 1 | dentry block 2 |
           +--------------------------------+
           .               .
     .                             .
.       [Dentry Block Structure: 4KB]       .
+--------+----------+----------+------------+
| bitmap | reserved | dentries | file names |
+--------+----------+----------+------------+
[Dentry Block: 4KB] .   .
               .               .
          .                          .
          +------+------+-----+------+
          | hash | ino  | len | type |
          +------+------+-----+------+
          [Dentry Structure: 11 bytes]
</pre></div>
</div>
<p>F2FS implements multi-level hash tables for directory structure. Each level has
a hash table with dedicated number of hash buckets as shown below. Note that
“A(2B)” means a bucket includes 2 data blocks.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>----------------------
A : bucket
B : block
N : MAX_DIR_HASH_DEPTH
----------------------

level #0   | A(2B)
        |
level #1   | A(2B) - A(2B)
        |
level #2   | A(2B) - A(2B) - A(2B) - A(2B)
    .     |   .       .       .       .
level #N/2 | A(2B) - A(2B) - A(2B) - A(2B) - A(2B) - ... - A(2B)
    .     |   .       .       .       .
level #N   | A(4B) - A(4B) - A(4B) - A(4B) - A(4B) - ... - A(4B)
</pre></div>
</div>
<p>The number of blocks and buckets are determined by:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>                          ,- 2, if n &lt; MAX_DIR_HASH_DEPTH / 2,
# of blocks in level #n = |
                          `- 4, Otherwise

                           ,- 2^(n + dir_level),
                           |        if n + dir_level &lt; MAX_DIR_HASH_DEPTH / 2,
# of buckets in level #n = |
                           `- 2^((MAX_DIR_HASH_DEPTH / 2) - 1),
                                    Otherwise
</pre></div>
</div>
<p>When F2FS finds a file name in a directory, at first a hash value of the file
name is calculated. Then, F2FS scans the hash table in level #0 to find the
dentry consisting of the file name and its inode number. If not found, F2FS
scans the next hash table in level #1. In this way, F2FS scans hash tables in
each levels incrementally from 1 to N. In each level F2FS needs to scan only
one bucket determined by the following equation, which shows O(log(# of files))
complexity:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>bucket number to scan in level #n = (hash value) % (# of buckets in level #n)
</pre></div>
</div>
<p>In the case of file creation, F2FS finds empty consecutive slots that cover the
file name. F2FS searches the empty slots in the hash tables of whole levels from
1 to N in the same way as the lookup operation.</p>
<p>The following figure shows an example of two cases holding children:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    --------------&gt; Dir &lt;--------------
    |                                 |
 child                             child

 child - child                     [hole] - child

 child - child - child             [hole] - [hole] - child

Case 1:                           Case 2:
Number of children = 6,           Number of children = 3,
File size = 7                     File size = 7
</pre></div>
</div>
</div>
<div class="section" id="default-block-allocation">
<h3>Default Block Allocation<a class="headerlink" href="#default-block-allocation" title="Permalink to this headline">¶</a></h3>
<p>At runtime, F2FS manages six active logs inside “Main” area: Hot/Warm/Cold node
and Hot/Warm/Cold data.</p>
<ul class="simple">
<li><p>Hot node      contains direct node blocks of directories.</p></li>
<li><p>Warm node     contains direct node blocks except hot node blocks.</p></li>
<li><p>Cold node     contains indirect node blocks</p></li>
<li><p>Hot data      contains dentry blocks</p></li>
<li><p>Warm data     contains data blocks except hot and cold data blocks</p></li>
<li><p>Cold data     contains multimedia data or migrated data blocks</p></li>
</ul>
<p>LFS has two schemes for free space management: threaded log and copy-and-compac-
tion. The copy-and-compaction scheme which is known as cleaning, is well-suited
for devices showing very good sequential write performance, since free segments
are served all the time for writing new data. However, it suffers from cleaning
overhead under high utilization. Contrarily, the threaded log scheme suffers
from random writes, but no cleaning process is needed. F2FS adopts a hybrid
scheme where the copy-and-compaction scheme is adopted by default, but the
policy is dynamically changed to the threaded log scheme according to the file
system status.</p>
<p>In order to align F2FS with underlying flash-based storage, F2FS allocates a
segment in a unit of section. F2FS expects that the section size would be the
same as the unit size of garbage collection in FTL. Furthermore, with respect
to the mapping granularity in FTL, F2FS allocates each section of the active
logs from different zones as much as possible, since FTL can write the data in
the active logs into one allocation unit according to its mapping granularity.</p>
</div>
<div class="section" id="cleaning-process">
<h3>Cleaning process<a class="headerlink" href="#cleaning-process" title="Permalink to this headline">¶</a></h3>
<p>F2FS does cleaning both on demand and in the background. On-demand cleaning is
triggered when there are not enough free segments to serve VFS calls. Background
cleaner is operated by a kernel thread, and triggers the cleaning job when the
system is idle.</p>
<p>F2FS supports two victim selection policies: greedy and cost-benefit algorithms.
In the greedy algorithm, F2FS selects a victim segment having the smallest number
of valid blocks. In the cost-benefit algorithm, F2FS selects a victim segment
according to the segment age and the number of valid blocks in order to address
log block thrashing problem in the greedy algorithm. F2FS adopts the greedy
algorithm for on-demand cleaner, while background cleaner adopts cost-benefit
algorithm.</p>
<p>In order to identify whether the data in the victim segment are valid or not,
F2FS manages a bitmap. Each bit represents the validity of a block, and the
bitmap is composed of a bit stream covering whole blocks in main area.</p>
</div>
<div class="section" id="write-hint-policy">
<h3>Write-hint Policy<a class="headerlink" href="#write-hint-policy" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><p>whint_mode=off. F2FS only passes down WRITE_LIFE_NOT_SET.</p></li>
</ol>
<p>2) whint_mode=user-based. F2FS tries to pass down hints given by
users.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 38%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>User</p></th>
<th class="head"><p>F2FS</p></th>
<th class="head"><p>Block</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ioctl(COLD)</p></td>
<td><p>COLD_DATA</p></td>
<td><p>WRITE_LIFE_EXTREME</p></td>
</tr>
<tr class="row-odd"><td><p>extension list</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-even"><td><p>– buffered io</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_EXTREME</p></td>
<td><p>COLD_DATA</p></td>
<td><p>WRITE_LIFE_EXTREME</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_SHORT</p></td>
<td><p>HOT_DATA</p></td>
<td><p>WRITE_LIFE_SHORT</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_NOT_SET</p></td>
<td><p>WARM_DATA</p></td>
<td><p>WRITE_LIFE_NOT_SET</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_NONE</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_MEDIUM</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_LONG</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-odd"><td><p>– direct io</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_EXTREME</p></td>
<td><p>COLD_DATA</p></td>
<td><p>WRITE_LIFE_EXTREME</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_SHORT</p></td>
<td><p>HOT_DATA</p></td>
<td><p>WRITE_LIFE_SHORT</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_NOT_SET</p></td>
<td><p>WARM_DATA</p></td>
<td><p>WRITE_LIFE_NOT_SET</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_NONE</p></td>
<td><p>“</p></td>
<td><p>WRITE_LIFE_NONE</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_MEDIUM</p></td>
<td><p>“</p></td>
<td><p>WRITE_LIFE_MEDIUM</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_LONG</p></td>
<td><p>“</p></td>
<td><p>WRITE_LIFE_LONG</p></td>
</tr>
</tbody>
</table>
<ol class="arabic simple" start="3">
<li><p>whint_mode=fs-based. F2FS passes down hints with its policy.</p></li>
</ol>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 38%" />
<col style="width: 30%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>User</p></th>
<th class="head"><p>F2FS</p></th>
<th class="head"><p>Block</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ioctl(COLD)</p></td>
<td><p>COLD_DATA</p></td>
<td><p>WRITE_LIFE_EXTREME</p></td>
</tr>
<tr class="row-odd"><td><p>extension list</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-even"><td><p>– buffered io</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_EXTREME</p></td>
<td><p>COLD_DATA</p></td>
<td><p>WRITE_LIFE_EXTREME</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_SHORT</p></td>
<td><p>HOT_DATA</p></td>
<td><p>WRITE_LIFE_SHORT</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_NOT_SET</p></td>
<td><p>WARM_DATA</p></td>
<td><p>WRITE_LIFE_LONG</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_NONE</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_MEDIUM</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_LONG</p></td>
<td><p>“</p></td>
<td><p>“</p></td>
</tr>
<tr class="row-odd"><td><p>– direct io</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_EXTREME</p></td>
<td><p>COLD_DATA</p></td>
<td><p>WRITE_LIFE_EXTREME</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_SHORT</p></td>
<td><p>HOT_DATA</p></td>
<td><p>WRITE_LIFE_SHORT</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_NOT_SET</p></td>
<td><p>WARM_DATA</p></td>
<td><p>WRITE_LIFE_NOT_SET</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_NONE</p></td>
<td><p>“</p></td>
<td><p>WRITE_LIFE_NONE</p></td>
</tr>
<tr class="row-even"><td><p>WRITE_LIFE_MEDIUM</p></td>
<td><p>“</p></td>
<td><p>WRITE_LIFE_MEDIUM</p></td>
</tr>
<tr class="row-odd"><td><p>WRITE_LIFE_LONG</p></td>
<td><p>“</p></td>
<td><p>WRITE_LIFE_LONG</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fallocate-2-policy">
<h3>Fallocate(2) Policy<a class="headerlink" href="#fallocate-2-policy" title="Permalink to this headline">¶</a></h3>
<p>The default policy follows the below POSIX rule.</p>
<dl class="simple">
<dt>Allocating disk space</dt><dd><p>The default operation (i.e., mode is zero) of fallocate() allocates
the disk space within the range specified by offset and len.  The
file size (as reported by stat(2)) will be changed if offset+len is
greater than the file size.  Any subregion within the range specified
by offset and len that did not contain data before the call will be
initialized to zero.  This default behavior closely resembles the
behavior of the posix_fallocate(3) library function, and is intended
as a method of optimally implementing that function.</p>
</dd>
</dl>
<p>However, once F2FS receives ioctl(fd, F2FS_IOC_SET_PIN_FILE) in prior to
fallocate(fd, DEFAULT_MODE), it allocates on-disk block addressess having
zero or random data, which is useful to the below scenario where:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>create(fd)</p></li>
<li><p>ioctl(fd, F2FS_IOC_SET_PIN_FILE)</p></li>
<li><p>fallocate(fd, 0, 0, size)</p></li>
<li><p>address = fibmap(fd, offset)</p></li>
<li><p>open(blkdev)</p></li>
<li><p>write(blkdev, address)</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="compression-implementation">
<h3>Compression implementation<a class="headerlink" href="#compression-implementation" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>New term named cluster is defined as basic unit of compression, file can
be divided into multiple clusters logically. One cluster includes 4 &lt;&lt; n
(n &gt;= 0) logical pages, compression size is also cluster size, each of
cluster can be compressed or not.</p></li>
<li><p>In cluster metadata layout, one special block address is used to indicate
a cluster is a compressed one or normal one; for compressed cluster, following
metadata maps cluster to [1, 4 &lt;&lt; n - 1] physical blocks, in where f2fs
stores data including compress header and compressed data.</p></li>
<li><p>In order to eliminate write amplification during overwrite, F2FS only
support compression on write-once file, data can be compressed only when
all logical blocks in cluster contain valid data and compress ratio of
cluster data is lower than specified threshold.</p></li>
<li><p>To enable compression on regular inode, there are three ways:</p>
<ul>
<li><p>chattr +c file</p></li>
<li><p>chattr +c dir; touch dir/file</p></li>
<li><p>mount w/ -o compress_extension=ext; touch file.ext</p></li>
</ul>
</li>
</ul>
<p>Compress metadata layout:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>                            [Dnode Structure]
            +-----------------------------------------------+
            | cluster 1 | cluster 2 | ......... | cluster N |
            +-----------------------------------------------+
            .           .                       .           .
    .                       .                .                      .
.         Compressed Cluster       .        .        Normal Cluster            .
+----------+---------+---------+---------+  +---------+---------+---------+---------+
|compr flag| block 1 | block 2 | block 3 |  | block 1 | block 2 | block 3 | block 4 |
+----------+---------+---------+---------+  +---------+---------+---------+---------+
        .                             .
        .                                           .
    .                                                           .
    +-------------+-------------+----------+----------------------------+
    | data length | data chksum | reserved |      compressed data       |
    +-------------+-------------+----------+----------------------------+
</pre></div>
</div>
</div>
<div class="section" id="compression-mode">
<h3>Compression mode<a class="headerlink" href="#compression-mode" title="Permalink to this headline">¶</a></h3>
<p>f2fs supports “fs” and “user” compression modes with “compression_mode” mount option.
With this option, f2fs provides a choice to select the way how to compress the
compression enabled files (refer to “Compression implementation” section for how to
enable compression on a regular inode).</p>
<p>1) compress_mode=fs
This is the default option. f2fs does automatic compression in the writeback of the
compression enabled files.</p>
<p>2) compress_mode=user
This disables the automaic compression and gives the user discretion of choosing the
target file and the timing. The user can do manual compression/decompression on the
compression enabled files using F2FS_IOC_DECOMPRESS_FILE and F2FS_IOC_COMPRESS_FILE
ioctls like the below.</p>
<p>To decompress a file,</p>
<p>fd = open(filename, O_WRONLY, 0);
ret = ioctl(fd, F2FS_IOC_DECOMPRESS_FILE);</p>
<p>To compress a file,</p>
<p>fd = open(filename, O_WRONLY, 0);
ret = ioctl(fd, F2FS_IOC_COMPRESS_FILE);</p>
</div>
<div class="section" id="nvme-zoned-namespace-devices">
<h3>NVMe Zoned Namespace devices<a class="headerlink" href="#nvme-zoned-namespace-devices" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>ZNS defines a per-zone capacity which can be equal or less than the
zone-size. Zone-capacity is the number of usable blocks in the zone.
F2FS checks if zone-capacity is less than zone-size, if it is, then any
segment which starts after the zone-capacity is marked as not-free in
the free segment bitmap at initial mount time. These segments are marked
as permanently used so they are not allocated for writes and
consequently are not needed to be garbage collected. In case the
zone-capacity is not aligned to default segment size(2MB), then a segment
can start before the zone-capacity and span across zone-capacity boundary.
Such spanning segments are also considered as usable segments. All blocks
past the zone-capacity are considered unusable in these segments.</p></li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="gfs2.html" class="btn btn-neutral float-right" title="Global File System 2" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ext3.html" class="btn btn-neutral float-left" title="Ext3 Filesystem" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright The kernel development community.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>