

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ARM64 CPU Feature Registers &mdash; The Linux Kernel 5.7.0-rc7+ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="ARM64 ELF hwcaps" href="elf_hwcaps.html" />
    <link rel="prev" title="Booting AArch64 Linux" href="booting.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.7.0-rc7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scsi/index.html">Linux SCSI Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ARM64 Architecture</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="acpi_object_usage.html">ACPI Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="amu.html">Activity Monitors Unit (AMU) extension in AArch64 Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="arm-acpi.html">ACPI on ARMv8 Servers</a></li>
<li class="toctree-l2"><a class="reference internal" href="booting.html">Booting AArch64 Linux</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ARM64 CPU Feature Registers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#motivation">1. Motivation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#requirements">2. Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementation">3. Implementation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list-of-registers-with-visible-features">4. List of registers with visible features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#appendix-i-example">Appendix I: Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="elf_hwcaps.html">ARM64 ELF hwcaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="hugetlbpage.html">HugeTLBpage on ARM64</a></li>
<li class="toctree-l2"><a class="reference internal" href="legacy_instructions.html">Legacy instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="memory.html">Memory Layout on AArch64 Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="pointer-authentication.html">Pointer authentication in AArch64 Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="silicon-errata.html">Silicon Errata and Software Workarounds</a></li>
<li class="toctree-l2"><a class="reference internal" href="sve.html">Scalable Vector Extension support for AArch64 Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="tagged-address-abi.html">AArch64 TAGGED ADDRESS ABI</a></li>
<li class="toctree-l2"><a class="reference internal" href="tagged-pointers.html">Tagged virtual addresses in AArch64 Linux</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">ARM64 Architecture</a> &raquo;</li>
        
      <li>ARM64 CPU Feature Registers</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/arm64/cpu-feature-registers.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="arm64-cpu-feature-registers">
<h1>ARM64 CPU Feature Registers<a class="headerlink" href="#arm64-cpu-feature-registers" title="Permalink to this headline">¶</a></h1>
<p>Author: Suzuki K Poulose &lt;<a class="reference external" href="mailto:suzuki&#46;poulose&#37;&#52;&#48;arm&#46;com">suzuki<span>&#46;</span>poulose<span>&#64;</span>arm<span>&#46;</span>com</a>&gt;</p>
<p>This file describes the ABI for exporting the AArch64 CPU ID/feature
registers to userspace. The availability of this ABI is advertised
via the HWCAP_CPUID in HWCAPs.</p>
<div class="section" id="motivation">
<h2>1. Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>The ARM architecture defines a set of feature registers, which describe
the capabilities of the CPU/system. Access to these system registers is
restricted from EL0 and there is no reliable way for an application to
extract this information to make better decisions at runtime. There is
limited information available to the application via HWCAPs, however
there are some issues with their usage.</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>Any change to the HWCAPs requires an update to userspace (e.g libc)
to detect the new changes, which can take a long time to appear in
distributions. Exposing the registers allows applications to get the
information without requiring updates to the toolchains.</p></li>
<li><p>Access to HWCAPs is sometimes limited (e.g prior to libc, or
when ld is initialised at startup time).</p></li>
<li><p>HWCAPs cannot represent non-boolean information effectively. The
architecture defines a canonical format for representing features
in the ID registers; this is well defined and is capable of
representing all valid architecture variations.</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="requirements">
<h2>2. Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="loweralpha">
<li><p>Safety:</p>
<p>Applications should be able to use the information provided by the
infrastructure to run safely across the system. This has greater
implications on a system with heterogeneous CPUs.
The infrastructure exports a value that is safe across all the
available CPU on the system.</p>
<p>e.g, If at least one CPU doesn’t implement CRC32 instructions, while
others do, we should report that the CRC32 is not implemented.
Otherwise an application could crash when scheduled on the CPU
which doesn’t support CRC32.</p>
</li>
<li><p>Security:</p>
<p>Applications should only be able to receive information that is
relevant to the normal operation in userspace. Hence, some of the
fields are masked out(i.e, made invisible) and their values are set to
indicate the feature is ‘not supported’. See Section 4 for the list
of visible features. Also, the kernel may manipulate the fields
based on what it supports. e.g, If FP is not supported by the
kernel, the values could indicate that the FP is not available
(even when the CPU provides it).</p>
</li>
<li><p>Implementation Defined Features</p>
<p>The infrastructure doesn’t expose any register which is
IMPLEMENTATION DEFINED as per ARMv8-A Architecture.</p>
</li>
<li><p>CPU Identification:</p>
<p>MIDR_EL1 is exposed to help identify the processor. On a
heterogeneous system, this could be racy (just like getcpu()). The
process could be migrated to another CPU by the time it uses the
register value, unless the CPU affinity is set. Hence, there is no
guarantee that the value reflects the processor that it is
currently executing on. The REVIDR is not exposed due to this
constraint, as REVIDR makes sense only in conjunction with the
MIDR. Alternately, MIDR_EL1 and REVIDR_EL1 are exposed via sysfs
at:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/sys/devices/system/cpu/cpu$ID/regs/identification/
                                              \- midr
                                              \- revidr
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="implementation">
<h2>3. Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>The infrastructure is built on the emulation of the ‘MRS’ instruction.
Accessing a restricted system register from an application generates an
exception and ends up in SIGILL being delivered to the process.
The infrastructure hooks into the exception handler and emulates the
operation if the source belongs to the supported system register space.</p>
<p>The infrastructure emulates only the following system register space:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Op0=3, Op1=0, CRn=0, CRm=0,4,5,6,7
</pre></div>
</div>
<p>(See Table C5-6 ‘System instruction encodings for non-Debug System
register accesses’ in ARMv8 ARM DDI 0487A.h, for the list of
registers).</p>
<p>The following rules are applied to the value returned by the
infrastructure:</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>The value of an ‘IMPLEMENTATION DEFINED’ field is set to 0.</p></li>
<li><p>The value of a reserved field is populated with the reserved
value as defined by the architecture.</p></li>
<li><p>The value of a ‘visible’ field holds the system wide safe value
for the particular feature (except for MIDR_EL1, see section 4).</p></li>
<li><p>All other fields (i.e, invisible fields) are set to indicate
the feature is missing (as defined by the architecture).</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="list-of-registers-with-visible-features">
<h2>4. List of registers with visible features<a class="headerlink" href="#list-of-registers-with-visible-features" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="arabic">
<li><p>ID_AA64ISAR0_EL1 - Instruction Set Attribute Register 0</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 19%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>bits</p></td>
<td><p>visible</p></td>
</tr>
<tr class="row-even"><td><p>RNDR</p></td>
<td><p>[63-60]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>TS</p></td>
<td><p>[55-52]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>FHM</p></td>
<td><p>[51-48]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>DP</p></td>
<td><p>[47-44]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>SM4</p></td>
<td><p>[43-40]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>SM3</p></td>
<td><p>[39-36]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>SHA3</p></td>
<td><p>[35-32]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>RDM</p></td>
<td><p>[31-28]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>ATOMICS</p></td>
<td><p>[23-20]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>CRC32</p></td>
<td><p>[19-16]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>SHA2</p></td>
<td><p>[15-12]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>SHA1</p></td>
<td><p>[11-8]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>AES</p></td>
<td><p>[7-4]</p></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>ID_AA64PFR0_EL1 - Processor Feature Register 0</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 19%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>bits</p></td>
<td><p>visible</p></td>
</tr>
<tr class="row-even"><td><p>DIT</p></td>
<td><p>[51-48]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>SVE</p></td>
<td><p>[35-32]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>GIC</p></td>
<td><p>[27-24]</p></td>
<td><p>n</p></td>
</tr>
<tr class="row-odd"><td><p>AdvSIMD</p></td>
<td><p>[23-20]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>FP</p></td>
<td><p>[19-16]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>EL3</p></td>
<td><p>[15-12]</p></td>
<td><p>n</p></td>
</tr>
<tr class="row-even"><td><p>EL2</p></td>
<td><p>[11-8]</p></td>
<td><p>n</p></td>
</tr>
<tr class="row-odd"><td><p>EL1</p></td>
<td><p>[7-4]</p></td>
<td><p>n</p></td>
</tr>
<tr class="row-even"><td><p>EL0</p></td>
<td><p>[3-0]</p></td>
<td><p>n</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>ID_AA64PFR1_EL1 - Processor Feature Register 1
+——————————+———+———+
| Name                         |  bits   | visible |
+——————————+———+———+
| SSBS                         | [7-4]   |    y    |
+——————————+———+———+</p></li>
<li><p>MIDR_EL1 - Main ID Register
+——————————+———+———+
| Name                         |  bits   | visible |
+——————————+———+———+
| Implementer                  | [31-24] |    y    |
+——————————+———+———+
| Variant                      | [23-20] |    y    |
+——————————+———+———+
| Architecture                 | [19-16] |    y    |
+——————————+———+———+
| PartNum                      | [15-4]  |    y    |
+——————————+———+———+
| Revision                     | [3-0]   |    y    |
+——————————+———+———+</p></li>
</ol>
<blockquote>
<div><p>NOTE: The ‘visible’ fields of MIDR_EL1 will contain the value
as available on the CPU where it is fetched and is not a system
wide safe value.</p>
</div></blockquote>
<ol class="arabic" start="5">
<li><p>ID_AA64ISAR1_EL1 - Instruction set attribute register 1</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 19%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>bits</p></td>
<td><p>visible</p></td>
</tr>
<tr class="row-even"><td><p>I8MM</p></td>
<td><p>[55-52]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>DGH</p></td>
<td><p>[51-48]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>BF16</p></td>
<td><p>[47-44]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>SB</p></td>
<td><p>[39-36]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>FRINTTS</p></td>
<td><p>[35-32]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>GPI</p></td>
<td><p>[31-28]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>GPA</p></td>
<td><p>[27-24]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>LRCPC</p></td>
<td><p>[23-20]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>FCMA</p></td>
<td><p>[19-16]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>JSCVT</p></td>
<td><p>[15-12]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>API</p></td>
<td><p>[11-8]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>APA</p></td>
<td><p>[7-4]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>DPB</p></td>
<td><p>[3-0]</p></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>ID_AA64MMFR2_EL1 - Memory model feature register 2</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 19%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>bits</p></td>
<td><p>visible</p></td>
</tr>
<tr class="row-even"><td><p>AT</p></td>
<td><p>[35-32]</p></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</li>
<li><p>ID_AA64ZFR0_EL1 - SVE feature ID register 0</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 63%" />
<col style="width: 19%" />
<col style="width: 19%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Name</p></td>
<td><p>bits</p></td>
<td><p>visible</p></td>
</tr>
<tr class="row-even"><td><p>F64MM</p></td>
<td><p>[59-56]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>F32MM</p></td>
<td><p>[55-52]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>I8MM</p></td>
<td><p>[47-44]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>SM4</p></td>
<td><p>[43-40]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>SHA3</p></td>
<td><p>[35-32]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>BF16</p></td>
<td><p>[23-20]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>BitPerm</p></td>
<td><p>[19-16]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-odd"><td><p>AES</p></td>
<td><p>[7-4]</p></td>
<td><p>y</p></td>
</tr>
<tr class="row-even"><td><p>SVEVer</p></td>
<td><p>[3-0]</p></td>
<td><p>y</p></td>
</tr>
</tbody>
</table>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="appendix-i-example">
<h2>Appendix I: Example<a class="headerlink" href="#appendix-i-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/*
 * Sample program to demonstrate the MRS emulation ABI.
 *
 * Copyright (C) 2015-2016, ARM Ltd
 *
 * Author: Suzuki K Poulose &lt;suzuki.poulose@arm.com&gt;
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 as
 * published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#include &lt;asm/hwcap.h&gt;
#include &lt;stdio.h&gt;
#include &lt;sys/auxv.h&gt;

#define get_cpu_ftr(id) ({                                    \
              unsigned long __val;                            \
              asm(&quot;mrs %0, &quot;#id : &quot;=r&quot; (__val));              \
              printf(&quot;%-20s: 0x%016lx\n&quot;, #id, __val);        \
      })

int main(void)
{

      if (!(getauxval(AT_HWCAP) &amp; HWCAP_CPUID)) {
              fputs(&quot;CPUID registers unavailable\n&quot;, stderr);
              return 1;
      }

      get_cpu_ftr(ID_AA64ISAR0_EL1);
      get_cpu_ftr(ID_AA64ISAR1_EL1);
      get_cpu_ftr(ID_AA64MMFR0_EL1);
      get_cpu_ftr(ID_AA64MMFR1_EL1);
      get_cpu_ftr(ID_AA64PFR0_EL1);
      get_cpu_ftr(ID_AA64PFR1_EL1);
      get_cpu_ftr(ID_AA64DFR0_EL1);
      get_cpu_ftr(ID_AA64DFR1_EL1);

      get_cpu_ftr(MIDR_EL1);
      get_cpu_ftr(MPIDR_EL1);
      get_cpu_ftr(REVIDR_EL1);

#if 0
      /* Unexposed register access causes SIGILL */
      get_cpu_ftr(ID_MMFR0_EL1);
#endif

      return 0;
}
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="elf_hwcaps.html" class="btn btn-neutral float-right" title="ARM64 ELF hwcaps" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="booting.html" class="btn btn-neutral float-left" title="Booting AArch64 Linux" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>