

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GigaSet 307x Device Driver &mdash; The Linux Kernel 5.2.0+ documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Hysdn Driver" href="hysdn.html" />
    <link rel="prev" title="Driver for active AVM Controller" href="avmb1.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.4.0-rc3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ioctl/index.html">IOCTLs</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">ISDN</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="interface_capi.html">Kernel CAPI Interface to Hardware Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="avmb1.html">Driver for active AVM Controller</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">GigaSet 307x Device Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#requirements">1.   Requirements</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hardware">1.1. Hardware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#software">1.2. Software</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-use-the-driver">2.   How to use the driver</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#modules">2.1. Modules</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-nodes-for-user-space-programs">2.2. Device nodes for user space programs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#capi">2.3. CAPI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unimodem-mode">2.5. Unimodem mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#call-id-cid-mode">2.6. Call-ID (CID) mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dialing-numbers">2.7. Dialing Numbers</a></li>
<li class="toctree-l4"><a class="reference internal" href="#unregistered-wireless-devices-m101-m105">2.8. Unregistered Wireless Devices (M101/M105)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">3.   Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#solutions-to-frequently-reported-problems">3.1. Solutions to frequently reported problems</a></li>
<li class="toctree-l4"><a class="reference internal" href="#telling-the-driver-to-provide-more-information">3.2. Telling the driver to provide more information</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reporting-problems-and-bugs">3.3. Reporting problems and bugs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#reporting-problem-solutions">3.4. Reporting problem solutions</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#links-other-software">4.   Links, other software</a></li>
<li class="toctree-l3"><a class="reference internal" href="#credits">5.   Credits</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="hysdn.html">Hysdn Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="m_isdn.html">mISDN Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media/index.html">Linux Media Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mic/index.html">Intel Many Integrated Core (MIC) architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/nios2.html">Linux on the Nios II architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">ISDN</a> &raquo;</li>
        
      <li>GigaSet 307x Device Driver</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/isdn/gigaset.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="gigaset-307x-device-driver">
<h1>GigaSet 307x Device Driver<a class="headerlink" href="#gigaset-307x-device-driver" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements">
<h2>1.   Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hardware">
<h3>1.1. Hardware<a class="headerlink" href="#hardware" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>This driver supports the connection of the Gigaset 307x/417x family of
ISDN DECT bases via Gigaset M101 Data, Gigaset M105 Data or direct USB
connection. The following devices are reported to be compatible:</p>
<dl class="docutils">
<dt>Bases:</dt>
<dd><ul class="first last simple">
<li>Siemens Gigaset 3070/3075 isdn</li>
<li>Siemens Gigaset 4170/4175 isdn</li>
<li>Siemens Gigaset SX205/255</li>
<li>Siemens Gigaset SX353</li>
<li>T-Com Sinus 45 [AB] isdn</li>
<li>T-Com Sinus 721X[A] [SE]</li>
<li>Vox Chicago 390 ISDN (KPN Telecom)</li>
</ul>
</dd>
<dt>RS232 data boxes:</dt>
<dd><ul class="first last simple">
<li>Siemens Gigaset M101 Data</li>
<li>T-Com Sinus 45 Data 1</li>
</ul>
</dd>
<dt>USB data boxes:</dt>
<dd><ul class="first last simple">
<li>Siemens Gigaset M105 Data</li>
<li>Siemens Gigaset USB Adapter DECT</li>
<li>T-Com Sinus 45 Data 2</li>
<li>T-Com Sinus 721 data</li>
<li>Chicago 390 USB (KPN)</li>
</ul>
</dd>
<dt>See also <a class="reference external" href="http://www.erbze.info/sinus_gigaset.htm">http://www.erbze.info/sinus_gigaset.htm</a></dt>
<dd><dl class="first last docutils">
<dt>(archived at <a class="reference external" href="https://web.archive.org/web/20100717020421/http://www.erbze.info:80/sinus_gigaset.htm">https://web.archive.org/web/20100717020421/http://www.erbze.info:80/sinus_gigaset.htm</a> ) and</dt>
<dd><a class="reference external" href="http://gigaset307x.sourceforge.net/">http://gigaset307x.sourceforge.net/</a></dd>
</dl>
</dd>
</dl>
<p>We had also reports from users of Gigaset M105 who could use the drivers
with SX 100 and CX 100 ISDN bases (only in unimodem mode, see section 2.5.)
If you have another device that works with our driver, please let us know.</p>
<p>Chances of getting an USB device to work are good if the output of:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>lsusb
</pre></div>
</div>
<p>at the command line contains one of the following:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ID 0681:0001
ID 0681:0002
ID 0681:0009
ID 0681:0021
ID 0681:0022
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="software">
<h3>1.2. Software<a class="headerlink" href="#software" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The driver works with the Kernel CAPI subsystem and can be used with any
software which is able to use CAPI 2.0 for ISDN connections (voice or data).</p>
<p>There are some user space tools available at
<a class="reference external" href="https://sourceforge.net/projects/gigaset307x/">https://sourceforge.net/projects/gigaset307x/</a>
which provide access to additional device specific functions like SMS,
phonebook or call journal.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="how-to-use-the-driver">
<h2>2.   How to use the driver<a class="headerlink" href="#how-to-use-the-driver" title="Permalink to this headline">¶</a></h2>
<div class="section" id="modules">
<h3>2.1. Modules<a class="headerlink" href="#modules" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>For the devices to work, the proper kernel modules have to be loaded.
This normally happens automatically when the system detects the USB
device (base, M105) or when the line discipline is attached (M101). It
can also be triggered manually using the modprobe(8) command, for example
for troubleshooting or to pass module parameters.</p>
<p>The module ser_gigaset provides a serial line discipline N_GIGASET_M101
which uses the regular serial port driver to access the device, and must
therefore be attached to the serial device to which the M101 is connected.
The ldattach(8) command (included in util-linux-ng release 2.14 or later)
can be used for that purpose, for example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ldattach GIGASET_M101 /dev/ttyS1
</pre></div>
</div>
<p>This will open the device file, attach the line discipline to it, and
then sleep in the background, keeping the device open so that the line
discipline remains active. To deactivate it, kill the daemon, for example
with:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>killall ldattach
</pre></div>
</div>
<p>before disconnecting the device. To have this happen automatically at
system startup/shutdown on an LSB compatible system, create and activate
an appropriate LSB startup script /etc/init.d/gigaset. (The init name
‘gigaset’ is officially assigned to this project by LANANA.)
Alternatively, just add the ‘ldattach’ command line to /etc/rc.local.</p>
<p>The modules accept the following parameters:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="15%" />
<col width="63%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>Module</td>
<td>Parameter</td>
<td>Meaning</td>
</tr>
<tr class="row-even"><td>gigaset</td>
<td><p class="first">debug</p>
<p class="last">startmode</p>
</td>
<td><p class="first">debug level (see section 3.2.)</p>
<p class="last">initial operation mode (see section 2.5.):</p>
</td>
</tr>
<tr class="row-odd"><td>bas_gigaset )</td>
<td>&#160;</td>
<td>1=CAPI (default), 0=Unimodem</td>
</tr>
<tr class="row-even"><td>ser_gigaset )</td>
<td>&#160;</td>
<td>&#160;</td>
</tr>
<tr class="row-odd"><td>usb_gigaset )</td>
<td>cidmode</td>
<td>initial Call-ID mode setting (see section
2.5.): 1=on (default), 0=off</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Depending on your distribution you may want to create a separate module
configuration file like /etc/modprobe.d/gigaset.conf for these.</p>
</div></blockquote>
</div>
<div class="section" id="device-nodes-for-user-space-programs">
<h3>2.2. Device nodes for user space programs<a class="headerlink" href="#device-nodes-for-user-space-programs" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The device can be accessed from user space (eg. by the user space tools
mentioned in 1.2.) through the device nodes:</p>
<ul class="simple">
<li>/dev/ttyGS0 for M101 (RS232 data boxes)</li>
<li>/dev/ttyGU0 for M105 (USB data boxes)</li>
<li>/dev/ttyGB0 for the base driver (direct USB connection)</li>
</ul>
<p>If you connect more than one device of a type, they will get consecutive
device nodes, eg. /dev/ttyGU1 for a second M105.</p>
<p>You can also set a “default device” for the user space tools to use when
no device node is given as parameter, by creating a symlink /dev/ttyG to
one of them, eg.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ln -s /dev/ttyGB0 /dev/ttyG
</pre></div>
</div>
<p>The devices accept the following device specific ioctl calls
(defined in gigaset_dev.h):</p>
<p><code class="docutils literal notranslate"><span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">GIGASET_REDIR,</span> <span class="pre">int</span> <span class="pre">*cmd);</span></code></p>
<p>If cmd==1, the device is set to be controlled exclusively through the
character device node; access from the ISDN subsystem is blocked.</p>
<p>If cmd==0, the device is set to be used from the ISDN subsystem and does
not communicate through the character device node.</p>
<p><code class="docutils literal notranslate"><span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">GIGASET_CONFIG,</span> <span class="pre">int</span> <span class="pre">*cmd);</span></code></p>
<p>(ser_gigaset and usb_gigaset only)</p>
<p>If cmd==1, the device is set to adapter configuration mode where commands
are interpreted by the M10x DECT adapter itself instead of being
forwarded to the base station. In this mode, the device accepts the
commands described in Siemens document “AT-Kommando Alignment M10x Data”
for setting the operation mode, associating with a base station and
querying parameters like field strengh and signal quality.</p>
<p>Note that there is no ioctl command for leaving adapter configuration
mode and returning to regular operation. In order to leave adapter
configuration mode, write the command ATO to the device.</p>
<p><code class="docutils literal notranslate"><span class="pre">ioctl(int</span> <span class="pre">fd,</span> <span class="pre">GIGASET_BRKCHARS,</span> <span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">brkchars[6]);</span></code></p>
<p>(usb_gigaset only)</p>
<p>Set the break characters on an M105’s internal serial adapter to the six
bytes stored in brkchars[]. Unused bytes should be set to zero.</p>
<p>ioctl(int fd, GIGASET_VERSION, unsigned version[4]);
Retrieve version information from the driver. version[0] must be set to
one of:</p>
<ul class="simple">
<li>GIGVER_DRIVER: retrieve driver version</li>
<li>GIGVER_COMPAT: retrieve interface compatibility version</li>
<li>GIGVER_FWBASE: retrieve the firmware version of the base</li>
</ul>
<p>Upon return, version[] is filled with the requested version information.</p>
</div></blockquote>
</div>
<div class="section" id="capi">
<h3>2.3. CAPI<a class="headerlink" href="#capi" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The devices will show up as CAPI controllers as soon as the
corresponding driver module is loaded, and can then be used with
CAPI 2.0 kernel and user space applications. For user space access,
the module capi.ko must be loaded.</p>
<p>Most distributions handle loading and unloading of the various CAPI
modules automatically via the command capiinit(1) from the capi4k-utils
package or a similar mechanism. Note that capiinit(1) cannot unload the
Gigaset drivers because it doesn’t support more than one module per
driver.</p>
</div></blockquote>
</div>
<div class="section" id="unimodem-mode">
<h3>2.5. Unimodem mode<a class="headerlink" href="#unimodem-mode" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>In this mode the device works like a modem connected to a serial port
(the /dev/ttyGU0, … mentioned above) which understands the commands:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>ATZ                 init, reset
    =&gt; OK or ERROR
ATD
ATDT                dial
    =&gt; OK, CONNECT,
       BUSY,
       NO DIAL TONE,
       NO CARRIER,
       NO ANSWER
&lt;pause&gt;+++&lt;pause&gt;   change to command mode when connected
ATH                 hangup
</pre></div>
</div>
<p>You can use some configuration tool of your distribution to configure this
“modem” or configure pppd/wvdial manually. There are some example ppp
configuration files and chat scripts in the gigaset-VERSION/ppp directory
in the driver packages from <a class="reference external" href="https://sourceforge.net/projects/gigaset307x/">https://sourceforge.net/projects/gigaset307x/</a>.
Please note that the USB drivers are not able to change the state of the
control lines. This means you must use “Stupid Mode” if you are using
wvdial or you should use the nocrtscts option of pppd.
You must also assure that the ppp_async module is loaded with the parameter
flag_time=0. You can do this e.g. by adding a line like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>options ppp_async flag_time=0
</pre></div>
</div>
<p>to an appropriate module configuration file, like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/etc/modprobe.d/gigaset.conf.
</pre></div>
</div>
<p>Unimodem mode is needed for making some devices [e.g. SX100] work which
do not support the regular Gigaset command set. If debug output (see
section 3.2.) shows something like this when dialing:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>CMD Received: ERROR
Available Params: 0
Connection State: 0, Response: -1
gigaset_process_response: resp_code -1 in ConState 0 !
Timeout occurred
</pre></div>
</div>
<p>then switching to unimodem mode may help.</p>
<p>If you have installed the command line tool gigacontr, you can enter
unimodem mode using:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gigacontr --mode unimodem
</pre></div>
</div>
<p>You can switch back using:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>gigacontr --mode isdn
</pre></div>
</div>
<p>You can also put the driver directly into Unimodem mode when it’s loaded,
by passing the module parameter startmode=0 to the hardware specific
module, e.g.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>modprobe usb_gigaset startmode=0
</pre></div>
</div>
<p>or by adding a line like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>options usb_gigaset startmode=0
</pre></div>
</div>
<p>to an appropriate module configuration file, like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>/etc/modprobe.d/gigaset.conf
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="call-id-cid-mode">
<h3>2.6. Call-ID (CID) mode<a class="headerlink" href="#call-id-cid-mode" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Call-IDs are numbers used to tag commands to, and responses from, the
Gigaset base in order to support the simultaneous handling of multiple
ISDN calls. Their use can be enabled (“CID mode”) or disabled (“Unimodem
mode”). Without Call-IDs (in Unimodem mode), only a very limited set of
functions is available. It allows outgoing data connections only, but
does not signal incoming calls or other base events.</p>
<p>DECT cordless data devices (M10x) permanently occupy the cordless
connection to the base while Call-IDs are activated. As the Gigaset
bases only support one DECT data connection at a time, this prevents
other DECT cordless data devices from accessing the base.</p>
<p>During active operation, the driver switches to the necessary mode
automatically. However, for the reasons above, the mode chosen when
the device is not in use (idle) can be selected by the user.</p>
<ul class="simple">
<li>If you want to receive incoming calls, you can use the default
settings (CID mode).</li>
<li>If you have several DECT data devices (M10x) which you want to use
in turn, select Unimodem mode by passing the parameter “cidmode=0” to
the appropriate driver module (ser_gigaset or usb_gigaset).</li>
</ul>
<p>If you want both of these at once, you are out of luck.</p>
<p>You can also use the tty class parameter “cidmode” of the device to
change its CID mode while the driver is loaded, eg.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo 0 &gt; /sys/class/tty/ttyGU0/cidmode
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="dialing-numbers">
<h3>2.7. Dialing Numbers<a class="headerlink" href="#dialing-numbers" title="Permalink to this headline">¶</a></h3>
<dl class="docutils">
<dt>provided by an application for dialing out must</dt>
<dd><p class="first">be a public network number according to the local dialing plan, without
any dial prefix for getting an outside line.</p>
<p>Internal calls can be made by providing an internal extension number
prefixed with <code class="docutils literal notranslate"><span class="pre">**</span></code> (two asterisks) as the called party number. So to dial
eg. the first registered DECT handset, give <code class="docutils literal notranslate"><span class="pre">**11</span></code> as the called party
number. Dialing <code class="docutils literal notranslate"><span class="pre">***</span></code> (three asterisks) calls all extensions
simultaneously (global call).</p>
<p class="last">Unimodem mode does not support internal calls.</p>
</dd>
</dl>
</div>
<div class="section" id="unregistered-wireless-devices-m101-m105">
<h3>2.8. Unregistered Wireless Devices (M101/M105)<a class="headerlink" href="#unregistered-wireless-devices-m101-m105" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>The main purpose of the ser_gigaset and usb_gigaset drivers is to allow
the M101 and M105 wireless devices to be used as ISDN devices for ISDN
connections through a Gigaset base. Therefore they assume that the device
is registered to a DECT base.</p>
<p>If the M101/M105 device is not registered to a base, initialization of
the device fails, and a corresponding error message is logged by the
driver. In that situation, a restricted set of functions is available
which includes, in particular, those necessary for registering the device
to a base or for switching it between Fixed Part and Portable Part
modes. See the gigacontr(8) manpage for details.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="troubleshooting">
<h2>3.   Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h2>
<div class="section" id="solutions-to-frequently-reported-problems">
<h3>3.1. Solutions to frequently reported problems<a class="headerlink" href="#solutions-to-frequently-reported-problems" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><dl class="docutils">
<dt>Problem:</dt>
<dd>You have a slow provider and isdn4linux gives up dialing too early.</dd>
<dt>Solution:</dt>
<dd><p class="first">Load the isdn module using the dialtimeout option. You can do this e.g.
by adding a line like:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>options isdn dialtimeout=15
</pre></div>
</div>
<p class="last">to /etc/modprobe.d/gigaset.conf or a similar file.</p>
</dd>
<dt>Problem:</dt>
<dd>The isdnlog program emits error messages or just doesn’t work.</dd>
<dt>Solution:</dt>
<dd>Isdnlog supports only the HiSax driver. Do not attempt to use it with
other drivers such as Gigaset.</dd>
<dt>Problem:</dt>
<dd>You have two or more DECT data adapters (M101/M105) and only the
first one you turn on works.</dd>
<dt>Solution:</dt>
<dd>Select Unimodem mode for all DECT data adapters. (see section 2.5.)</dd>
<dt>Problem:</dt>
<dd><p class="first">Messages like this:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>usb_gigaset 3-2:1.0: Could not initialize the device.
</pre></div>
</div>
<p class="last">appear in your syslog.</p>
</dd>
<dt>Solution:</dt>
<dd>Check whether your M10x wireless device is correctly registered to the
Gigaset base. (see section 2.7.)</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="telling-the-driver-to-provide-more-information">
<h3>3.2. Telling the driver to provide more information<a class="headerlink" href="#telling-the-driver-to-provide-more-information" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Building the driver with the “Gigaset debugging” kernel configuration
option (CONFIG_GIGASET_DEBUG) gives it the ability to produce additional
information useful for debugging.</p>
<p>You can control the amount of debugging information the driver produces by
writing an appropriate value to /sys/module/gigaset/parameters/debug,
e.g.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo 0 &gt; /sys/module/gigaset/parameters/debug
</pre></div>
</div>
<p>switches off debugging output completely,</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>echo 0x302020 &gt; /sys/module/gigaset/parameters/debug
</pre></div>
</div>
<p>enables a reasonable set of debugging output messages. These values are
bit patterns where every bit controls a certain type of debugging output.
See the constants DEBUG_* in the source file gigaset.h for details.</p>
<p>The initial value can be set using the debug parameter when loading the
module “gigaset”, e.g. by adding a line:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>options gigaset debug=0
</pre></div>
</div>
<p>to your module configuration file, eg. /etc/modprobe.d/gigaset.conf</p>
<p>Generated debugging information can be found
- as output of the command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dmesg
</pre></div>
</div>
<ul class="simple">
<li>in system log files written by your syslog daemon, usually
in /var/log/, e.g. /var/log/messages.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="reporting-problems-and-bugs">
<h3>3.3. Reporting problems and bugs<a class="headerlink" href="#reporting-problems-and-bugs" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>If you can’t solve problems with the driver on your own, feel free to
use one of the forums, bug trackers, or mailing lists on</p>
<blockquote>
<div><a class="reference external" href="https://sourceforge.net/projects/gigaset307x">https://sourceforge.net/projects/gigaset307x</a></div></blockquote>
<p>or write an electronic mail to the maintainers.</p>
<p>Try to provide as much information as possible, such as</p>
<ul class="simple">
<li>distribution</li>
<li>kernel version (uname -r)</li>
<li>gcc version (gcc –version)</li>
<li>hardware architecture (uname -m, …)</li>
<li>type and firmware version of your device (base and wireless module,
if any)</li>
<li>output of “lsusb -v” (if using an USB device)</li>
<li>error messages</li>
<li>relevant system log messages (it would help if you activate debug
output as described in 3.2.)</li>
</ul>
<p>For help with general configuration problems not specific to our driver,
such as isdn4linux and network configuration issues, please refer to the
appropriate forums and newsgroups.</p>
</div></blockquote>
</div>
<div class="section" id="reporting-problem-solutions">
<h3>3.4. Reporting problem solutions<a class="headerlink" href="#reporting-problem-solutions" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>If you solved a problem with our drivers, wrote startup scripts for your
distribution, … feel free to contact us (using one of the places
mentioned in 3.3.). We’d like to add scripts, hints, documentation
to the driver and/or the project web page.</div></blockquote>
</div>
</div>
<div class="section" id="links-other-software">
<h2>4.   Links, other software<a class="headerlink" href="#links-other-software" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><dl class="first docutils">
<dt>Sourceforge project developing this driver and associated tools</dt>
<dd><a class="reference external" href="https://sourceforge.net/projects/gigaset307x">https://sourceforge.net/projects/gigaset307x</a></dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Yahoo! Group on the Siemens Gigaset family of devices</dt>
<dd><a class="reference external" href="https://de.groups.yahoo.com/group/Siemens-Gigaset">https://de.groups.yahoo.com/group/Siemens-Gigaset</a></dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Siemens Gigaset/T-Sinus compatibility table</dt>
<dd><dl class="first last docutils">
<dt><a class="reference external" href="http://www.erbze.info/sinus_gigaset.htm">http://www.erbze.info/sinus_gigaset.htm</a></dt>
<dd>(archived at <a class="reference external" href="https://web.archive.org/web/20100717020421/http://www.erbze.info:80/sinus_gigaset.htm">https://web.archive.org/web/20100717020421/http://www.erbze.info:80/sinus_gigaset.htm</a> )</dd>
</dl>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="credits">
<h2>5.   Credits<a class="headerlink" href="#credits" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Thanks to</p>
<dl class="docutils">
<dt>Karsten Keil</dt>
<dd>for his help with isdn4linux</dd>
<dt>Deti Fliegl</dt>
<dd>for his base driver code</dd>
<dt>Dennis Dietrich</dt>
<dd>for his kernel 2.6 patches</dd>
<dt>Andreas Rummel</dt>
<dd>for his work and logs to get unimodem mode working</dd>
<dt>Andreas Degert</dt>
<dd>for his logs and patches to get cx 100 working</dd>
<dt>Dietrich Feist</dt>
<dd>for his generous donation of one M105 and two M101 cordless adapters</dd>
<dt>Christoph Schweers</dt>
<dd>for his generous donation of a M34 device</dd>
</dl>
<p>and all the other people who sent logs and other information.</p>
</div></blockquote>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="hysdn.html" class="btn btn-neutral float-right" title="Hysdn Driver" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="avmb1.html" class="btn btn-neutral float-left" title="Driver for active AVM Controller" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright The kernel development community

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>