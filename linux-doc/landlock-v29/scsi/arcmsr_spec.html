

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ARECA FIRMWARE SPEC &mdash; The Linux Kernel 5.11.0+ documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />

  
  

  
  

  

  
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Linux driver for Brocade FC/FCOE adapters" href="bfa.html" />
    <link rel="prev" title="Adaptec Aic7xxx Fast -&gt; Ultra160 Family Manager Set v7.0" href="aic7xxx.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Linux Kernel
          

          
          </a>

          
            
            
              <div class="version">
                5.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../admin-guide/index.html">The Linux kernel user’s and administrator’s guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kbuild/index.html">Kernel Build System</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../firmware-guide/index.html">The Linux kernel firmware guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../devicetree/index.html">Open Firmware and Device Tree</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../userspace-api/index.html">The Linux kernel user-space API guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../process/index.html">Working with the kernel development community</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/index.html">Development tools for the kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc-guide/index.html">How to write kernel documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kernel-hacking/index.html">Kernel Hacking Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Linux Tracing Technologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../maintainer/index.html">Kernel Maintainer Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fault-injection/index.html">fault-injection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../livepatch/index.html">Kernel Livepatching</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../driver-api/index.html">The Linux driver implementer’s API guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../core-api/index.html">Core API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../locking/index.html">locking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../accounting/index.html">Accounting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../block/index.html">Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cdrom/index.html">cdrom</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cpu-freq/index.html">Linux CPUFreq - CPU frequency and voltage scaling code in the Linux(TM) kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ide/index.html">Integrated Drive Electronics (IDE)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fb/index.html">Frame Buffer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fpga/index.html">fpga</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hid/index.html">Human Interface Devices (HID)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../i2c/index.html">I2C/SMBus Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iio/index.html">Industrial I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../isdn/index.html">ISDN</a></li>
<li class="toctree-l1"><a class="reference internal" href="../infiniband/index.html">InfiniBand</a></li>
<li class="toctree-l1"><a class="reference internal" href="../leds/index.html">LEDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../netlabel/index.html">NetLabel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../networking/index.html">Linux Networking Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pcmcia/index.html">pcmcia</a></li>
<li class="toctree-l1"><a class="reference internal" href="../power/index.html">Power Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../target/index.html">TCM Virtual Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../timers/index.html">timers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../spi/index.html">Serial Peripheral Interface (SPI)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../w1/index.html">1-Wire Subsystem</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watchdog/index.html">Linux Watchdog Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../virt/index.html">Linux Virtualization Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../input/index.html">The Linux Input Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hwmon/index.html">Linux Hardware Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gpu/index.html">Linux GPU Driver Developer’s Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/index.html">Security Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sound/index.html">Linux Sound Subsystem Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../crypto/index.html">Linux Kernel Crypto API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/index.html">Filesystems in the Linux kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vm/index.html">Linux Memory Management Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bpf/index.html">BPF Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usb/index.html">USB support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PCI/index.html">Linux PCI Bus Subsystem</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Linux SCSI Subsystem</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="53c700.html">The 53c700 Driver Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="aacraid.html">AACRAID Driver for Linux (take two)</a></li>
<li class="toctree-l2"><a class="reference internal" href="advansys.html">AdvanSys Driver Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="aha152x.html">Adaptec AHA-1520/1522 SCSI driver for Linux (aha152x)</a></li>
<li class="toctree-l2"><a class="reference internal" href="aic79xx.html">Adaptec Ultra320 Family Manager Set</a></li>
<li class="toctree-l2"><a class="reference internal" href="aic7xxx.html">Adaptec Aic7xxx Fast -&gt; Ultra160 Family Manager Set v7.0</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ARECA FIRMWARE SPEC</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-of-iop331-adapter">Usage of IOP331 adapter</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#message-0">1. Message 0</a></li>
<li class="toctree-l3"><a class="reference internal" href="#doorbell-is-used-for-rs-232-emulation">2. Doorbell is used for RS-232 emulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#index-memory-usage">3. Index Memory Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rs-232-emulation">4. RS-232 emulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#postq">5. PostQ</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bios-request">6. BIOS request</a></li>
<li class="toctree-l3"><a class="reference internal" href="#definition-of-sgl-entry-structure">7. Definition of SGL entry (structure)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#message1-out-diag-status-code">8. Message1 Out - Diag Status Code (????)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#message0-message-code">9. Message0 message code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rs-232-interface-for-areca-raid-controller">RS-232 Interface for Areca Raid Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#sequence-of-command-execution">1. Sequence of command execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-block">2. Command block</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-code-and-associated-data">3. Command code and associated data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#command-description">Command description</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#returned-data">4. Returned data</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bfa.html">Linux driver for Brocade FC/FCOE adapters</a></li>
<li class="toctree-l2"><a class="reference internal" href="bnx2fc.html">Operating FCoE using bnx2fc</a></li>
<li class="toctree-l2"><a class="reference internal" href="BusLogic.html">BusLogic MultiMaster and FlashPoint SCSI Driver for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="cxgb3i.html">Chelsio S3 iSCSI Driver for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="dc395x.html">README file for the dc395x SCSI driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="dpti.html">Adaptec dpti driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="FlashPoint.html">The BusLogic FlashPoint SCSI Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="g_NCR5380.html">README file for the Linux g_NCR5380 driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="hpsa.html">HPSA - Hewlett Packard Smart Array driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="hptiop.html">Highpoint RocketRAID 3xxx/4xxx Adapter Driver (hptiop)</a></li>
<li class="toctree-l2"><a class="reference internal" href="libsas.html">SAS Layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="link_power_management_policy.html">Link Power Managent Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="lpfc.html">LPFC Driver Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="megaraid.html">Notes on Management Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="ncr53c8xx.html">The Linux NCR53C8XX/SYM53C8XX drivers README file</a></li>
<li class="toctree-l2"><a class="reference internal" href="NinjaSCSI.html">WorkBiT NinjaSCSI-3/32Bi driver for Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="ppa.html">Terse where to get ZIP Drive help info</a></li>
<li class="toctree-l2"><a class="reference internal" href="qlogicfas.html">Qlogic FASXXX Family Driver Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi-changer.html">README for the SCSI media changer driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi_eh.html">SCSI EH</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi_fc_transport.html">SCSI FC Tansport</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi-generic.html">Notes on Linux SCSI Generic (sg) driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi_mid_low_api.html">SCSI mid_level - lower_level driver interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi-parameters.html">SCSI Kernel Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi.html">SCSI subsystem documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="sd-parameters.html">Linux SCSI Disk Driver (sd) Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="smartpqi.html">SMARTPQI - Microchip Smart Storage SCSI driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="st.html">The SCSI Tape Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="sym53c500_cs.html">The sym53c500_cs Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="sym53c8xx_2.html">The Linux SYM-2 driver documentation file</a></li>
<li class="toctree-l2"><a class="reference internal" href="tcm_qla2xxx.html">tcm_qla2xxx Driver Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="ufs.html">Universal Flash Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="wd719x.html">Driver for Western Digital WD7193, WD7197 and WD7296 SCSI cards</a></li>
<li class="toctree-l2"><a class="reference internal" href="scsi_transport_srp/figures.html">SCSI RDMA (SRP) transport class diagram</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../misc-devices/index.html">Assorted Miscellaneous Devices Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Linux Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mhi/index.html">MHI</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../asm-annotations.html">Assembler Annotations</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../arm/index.html">ARM Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../arm64/index.html">ARM64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ia64/index.html">IA-64 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../m68k/index.html">m68k Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mips/index.html">MIPS-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../nios2/index.html">Nios II Specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../openrisc/index.html">OpenRISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parisc/index.html">PA-RISC Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../powerpc/index.html">powerpc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../riscv/index.html">RISC-V architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../s390/index.html">s390 Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sh/index.html">SuperH Interfaces Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sparc/index.html">Sparc Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../x86/index.html">x86-specific Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../xtensa/index.html">Xtensa Architecture</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../filesystems/ext4/index.html">ext4 Data Structures and Algorithms</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html">Unsorted Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-types">Atomic Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#atomic-bitops">Atomic bitops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../staging/index.html#memory-barriers">Memory Barriers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../watch_queue.html">General notification mechanism</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../translations/index.html">Translations</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Linux Kernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Linux SCSI Subsystem</a> &raquo;</li>
        
      <li>ARECA FIRMWARE SPEC</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/scsi/arcmsr_spec.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="areca-firmware-spec">
<h1>ARECA FIRMWARE SPEC<a class="headerlink" href="#areca-firmware-spec" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="usage-of-iop331-adapter">
<h1>Usage of IOP331 adapter<a class="headerlink" href="#usage-of-iop331-adapter" title="Permalink to this headline">¶</a></h1>
<p>(All In/Out is in IOP331’s view)</p>
<div class="section" id="message-0">
<h2>1. Message 0<a class="headerlink" href="#message-0" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>InitThread message and return code</p></li>
</ul>
</div>
<div class="section" id="doorbell-is-used-for-rs-232-emulation">
<h2>2. Doorbell is used for RS-232 emulation<a class="headerlink" href="#doorbell-is-used-for-rs-232-emulation" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>inDoorBell</dt><dd><dl class="simple">
<dt>bit0</dt><dd><p>data in ready
zDRIVER DATA WRITE OK)</p>
</dd>
<dt>bit1</dt><dd><p>data out has been read
(DRIVER DATA READ OK)</p>
</dd>
</dl>
</dd>
<dt>outDooeBell:</dt><dd><dl class="simple">
<dt>bit0</dt><dd><p>data out ready
(IOP331 DATA WRITE OK)</p>
</dd>
<dt>bit1</dt><dd><p>data in has been read
(IOP331 DATA READ OK)</p>
</dd>
</dl>
</dd>
</dl>
</div>
<div class="section" id="index-memory-usage">
<h2>3. Index Memory Usage<a class="headerlink" href="#index-memory-usage" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 78%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>offset 0xf00</p></td>
<td><p>for RS232 out (request buffer)</p></td>
</tr>
<tr class="row-even"><td><p>offset 0xe00</p></td>
<td><p>for RS232 in  (scratch buffer)</p></td>
</tr>
<tr class="row-odd"><td><p>offset 0xa00</p></td>
<td><p>for inbound message code message_rwbuffer
(driver send to IOP331)</p></td>
</tr>
<tr class="row-even"><td><p>offset 0xa00</p></td>
<td><p>for outbound message code message_rwbuffer
(IOP331 send to driver)</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="rs-232-emulation">
<h2>4. RS-232 emulation<a class="headerlink" href="#rs-232-emulation" title="Permalink to this headline">¶</a></h2>
<p>Currently 128 byte buffer is used:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 36%" />
<col style="width: 64%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>1st uint32_t</p></td>
<td><p>Data length (1–124)</p></td>
</tr>
<tr class="row-even"><td><p>Byte 4–127</p></td>
<td><p>Max 124 bytes of data</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="postq">
<h2>5. PostQ<a class="headerlink" href="#postq" title="Permalink to this headline">¶</a></h2>
<p>All SCSI Command must be sent through postQ:</p>
<blockquote>
<div><dl>
<dt>(inbound queue port)</dt><dd><p>Request frame must be 32 bytes aligned:</p>
<blockquote>
<div><dl>
<dt>#bit27–bit31</dt><dd><p>flag for post ccb</p>
</dd>
<dt>#bit0–bit26</dt><dd><p>real address (bit27–bit31) of post arcmsr_cdb</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 79%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>bit31</p></td>
<td><table class="docutils align-default">
<colgroup>
<col style="width: 12%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>256 bytes frame</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>512 bytes frame</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>bit30</p></td>
<td><table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 88%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>normal request</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>BIOS request</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>bit29</p></td>
<td><p>reserved</p></td>
</tr>
<tr class="row-even"><td><p>bit28</p></td>
<td><p>reserved</p></td>
</tr>
<tr class="row-odd"><td><p>bit27</p></td>
<td><p>reserved</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div></blockquote>
</dd>
<dt>(outbount queue port)</dt><dd><p>Request reply:</p>
<blockquote>
<div><dl>
<dt>#bit27–bit31</dt><dd><p>flag for reply</p>
</dd>
<dt>#bit0–bit26</dt><dd><p>real address (bit27–bit31) of reply arcmsr_cdb</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 92%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>bit31</p></td>
<td><p>must be 0 (for this type of reply)</p></td>
</tr>
<tr class="row-even"><td><p>bit30</p></td>
<td><p>reserved for BIOS handshake</p></td>
</tr>
<tr class="row-odd"><td><p>bit29</p></td>
<td><p>reserved</p></td>
</tr>
<tr class="row-even"><td><p>bit28</p></td>
<td><table class="docutils align-default">
<colgroup>
<col style="width: 4%" />
<col style="width: 96%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0</p></td>
<td><p>no error, ignore AdapStatus/DevStatus/SenseData</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>Error, error code in AdapStatus/DevStatus/SenseData</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>bit27</p></td>
<td><p>reserved</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div></blockquote>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="bios-request">
<h2>6. BIOS request<a class="headerlink" href="#bios-request" title="Permalink to this headline">¶</a></h2>
<p>All BIOS request is the same with request from PostQ</p>
<p>Except:</p>
<p>Request frame is sent from configuration space:</p>
<blockquote>
<div><table class="docutils align-default">
<colgroup>
<col style="width: 32%" />
<col style="width: 68%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>offset: 0x78</p></td>
<td><p>Request Frame (bit30 == 1)</p></td>
</tr>
<tr class="row-even"><td><p>offset: 0x18</p></td>
<td><p>writeonly to generate
IRQ to IOP331</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>Completion of request:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(bit30 == 0, bit28==err flag)
</pre></div>
</div>
</div>
<div class="section" id="definition-of-sgl-entry-structure">
<h2>7. Definition of SGL entry (structure)<a class="headerlink" href="#definition-of-sgl-entry-structure" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="message1-out-diag-status-code">
<h2>8. Message1 Out - Diag Status Code (????)<a class="headerlink" href="#message1-out-diag-status-code" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="message0-message-code">
<h2>9. Message0 message code<a class="headerlink" href="#message0-message-code" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 92%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>0x00</p></td>
<td><p>NOP</p></td>
</tr>
<tr class="row-even"><td><p>0x01</p></td>
<td><p>Get Config
-&gt;offset 0xa00 :for outbound message code message_rwbuffer
(IOP331 send to driver)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 33%" />
<col style="width: 67%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Signature</p></td>
<td><p>0x87974060(4)</p></td>
</tr>
<tr class="row-even"><td><p>Request len</p></td>
<td><p>0x00000200(4)</p></td>
</tr>
<tr class="row-odd"><td><p>numbers of queue</p></td>
<td><p>0x00000100(4)</p></td>
</tr>
<tr class="row-even"><td><p>SDRAM Size</p></td>
<td><p>0x00000100(4)–&gt;256 MB</p></td>
</tr>
<tr class="row-odd"><td><p>IDE Channels</p></td>
<td><p>0x00000008(4)</p></td>
</tr>
<tr class="row-even"><td><p>vendor</p></td>
<td><p>40 bytes char</p></td>
</tr>
<tr class="row-odd"><td><p>model</p></td>
<td><p>8 bytes char</p></td>
</tr>
<tr class="row-even"><td><p>FirmVer</p></td>
<td><p>16 bytes char</p></td>
</tr>
<tr class="row-odd"><td><p>Device Map</p></td>
<td><p>16 bytes char</p></td>
</tr>
<tr class="row-even"><td><p>FirmwareVersion</p></td>
<td><p>DWORD</p>
<ul class="simple">
<li><p>Added for checking of
new firmware capability</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>0x02</p></td>
<td><p>Set Config
-&gt;offset 0xa00 :for inbound message code message_rwbuffer
(driver send to IOP331)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 58%" />
<col style="width: 42%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>Signature</p></td>
<td><p>0x87974063(4)</p></td>
</tr>
<tr class="row-even"><td><p>UPPER32 of Request Frame</p></td>
<td><p>(4)–&gt;Driver Only</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="row-odd"><td><p>0x03</p></td>
<td><p>Reset (Abort all queued Command)</p></td>
</tr>
<tr class="row-even"><td><p>0x04</p></td>
<td><p>Stop Background Activity</p></td>
</tr>
<tr class="row-odd"><td><p>0x05</p></td>
<td><p>Flush Cache</p></td>
</tr>
<tr class="row-even"><td><p>0x06</p></td>
<td><p>Start Background Activity
(re-start if background is halted)</p></td>
</tr>
<tr class="row-odd"><td><p>0x07</p></td>
<td><p>Check If Host Command Pending
(Novell May Need This Function)</p></td>
</tr>
<tr class="row-even"><td><p>0x08</p></td>
<td><p>Set controller time
-&gt;offset 0xa00   for inbound message code message_rwbuffer
(driver to IOP331)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0</p></td>
<td><p>0xaa &lt;– signature</p></td>
</tr>
<tr class="row-even"><td><p>byte 1</p></td>
<td><p>0x55 &lt;– signature</p></td>
</tr>
<tr class="row-odd"><td><p>byte 2</p></td>
<td><p>year (04)</p></td>
</tr>
<tr class="row-even"><td><p>byte 3</p></td>
<td><p>month (1..12)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 4</p></td>
<td><p>date (1..31)</p></td>
</tr>
<tr class="row-even"><td><p>byte 5</p></td>
<td><p>hour (0..23)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 6</p></td>
<td><p>minute (0..59)</p></td>
</tr>
<tr class="row-even"><td><p>byte 7</p></td>
<td><p>second (0..59)</p></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="rs-232-interface-for-areca-raid-controller">
<h1>RS-232 Interface for Areca Raid Controller<a class="headerlink" href="#rs-232-interface-for-areca-raid-controller" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>The low level command interface is exclusive with VT100 terminal</p>
</div></blockquote>
<div class="section" id="sequence-of-command-execution">
<h2>1. Sequence of command execution<a class="headerlink" href="#sequence-of-command-execution" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="upperalpha simple">
<li><dl class="simple">
<dt>Header</dt><dd><p>3 bytes sequence (0x5E, 0x01, 0x61)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Command block</dt><dd><p>variable length of data including length,
command code, data and checksum byte</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Return data</dt><dd><p>variable length of data</p>
</dd>
</dl>
</li>
</ol>
</div></blockquote>
</div>
<div class="section" id="command-block">
<h2>2. Command block<a class="headerlink" href="#command-block" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><ol class="upperalpha">
<li><dl class="simple">
<dt>1st byte</dt><dd><p>command block length (low byte)</p>
</dd>
</dl>
</li>
<li><dl>
<dt>2nd byte</dt><dd><p>command block length (high byte)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>command block length shouldn’t &gt; 2040 bytes,
length excludes these two bytes</p>
</div>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>3rd byte</dt><dd><p>command code</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>4th and following bytes</dt><dd><p>variable length data bytes</p>
</dd>
</dl>
<p>depends on command code</p>
</li>
<li><p>last byte
checksum byte (sum of 1st byte until last data byte)</p></li>
</ol>
</div></blockquote>
</div>
<div class="section" id="command-code-and-associated-data">
<h2>3. Command code and associated data<a class="headerlink" href="#command-code-and-associated-data" title="Permalink to this headline">¶</a></h2>
<p>The following are command code defined in raid controller Command
code 0x10–0x1? are used for system level management,
no password checking is needed and should be implemented in separate
well controlled utility and not for end user access.
Command code 0x20–0x?? always check the password,
password must be entered to enable these command:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>enum
{
        GUI_SET_SERIAL=0x10,
        GUI_SET_VENDOR,
        GUI_SET_MODEL,
        GUI_IDENTIFY,
        GUI_CHECK_PASSWORD,
        GUI_LOGOUT,
        GUI_HTTP,
        GUI_SET_ETHERNET_ADDR,
        GUI_SET_LOGO,
        GUI_POLL_EVENT,
        GUI_GET_EVENT,
        GUI_GET_HW_MONITOR,
        //    GUI_QUICK_CREATE=0x20, (function removed)
        GUI_GET_INFO_R=0x20,
        GUI_GET_INFO_V,
        GUI_GET_INFO_P,
        GUI_GET_INFO_S,
        GUI_CLEAR_EVENT,
        GUI_MUTE_BEEPER=0x30,
        GUI_BEEPER_SETTING,
        GUI_SET_PASSWORD,
        GUI_HOST_INTERFACE_MODE,
        GUI_REBUILD_PRIORITY,
        GUI_MAX_ATA_MODE,
        GUI_RESET_CONTROLLER,
        GUI_COM_PORT_SETTING,
        GUI_NO_OPERATION,
        GUI_DHCP_IP,
        GUI_CREATE_PASS_THROUGH=0x40,
        GUI_MODIFY_PASS_THROUGH,
        GUI_DELETE_PASS_THROUGH,
        GUI_IDENTIFY_DEVICE,
        GUI_CREATE_RAIDSET=0x50,
        GUI_DELETE_RAIDSET,
        GUI_EXPAND_RAIDSET,
        GUI_ACTIVATE_RAIDSET,
        GUI_CREATE_HOT_SPARE,
        GUI_DELETE_HOT_SPARE,
        GUI_CREATE_VOLUME=0x60,
        GUI_MODIFY_VOLUME,
        GUI_DELETE_VOLUME,
        GUI_START_CHECK_VOLUME,
        GUI_STOP_CHECK_VOLUME
};
</pre></div>
</div>
<div class="section" id="command-description">
<h3>Command description<a class="headerlink" href="#command-description" title="Permalink to this headline">¶</a></h3>
<dl>
<dt>GUI_SET_SERIAL</dt><dd><p>Set the controller serial#</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x10</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>password length (should be 0x0f)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4-0x13</p></td>
<td><p>should be “ArEcATecHnoLogY”</p></td>
</tr>
<tr class="row-odd"><td><p>byte 0x14–0x23</p></td>
<td><p>Serial number string (must be 16 bytes)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_VENDOR</dt><dd><p>Set vendor string for the controller</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x11</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>password length (should be 0x08)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4-0x13</p></td>
<td><p>should be “ArEcAvAr”</p></td>
</tr>
<tr class="row-odd"><td><p>byte 0x14–0x3B</p></td>
<td><p>vendor string (must be 40 bytes)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_MODEL</dt><dd><p>Set the model name of the controller</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x12</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>password length (should be 0x08)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4-0x13</p></td>
<td><p>should be “ArEcAvAr”</p></td>
</tr>
<tr class="row-odd"><td><p>byte 0x14–0x1B</p></td>
<td><p>model string (must be 8 bytes)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_IDENTIFY</dt><dd><p>Identify device</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><dl class="simple">
<dt>command code 0x13</dt><dd><p>return “Areca RAID Subsystem “</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CHECK_PASSWORD</dt><dd><p>Verify password</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x14</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>password length</p></td>
</tr>
<tr class="row-even"><td><p>byte 4-0x??</p></td>
<td><p>user password to be checked</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_LOGOUT</dt><dd><p>Logout GUI (force password checking on next command)</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x15</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_HTTP</dt><dd><p>HTTP interface (reserved for Http proxy service)(0x16)</p>
</dd>
<dt>GUI_SET_ETHERNET_ADDR</dt><dd><p>Set the ethernet MAC address</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x17</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>password length (should be 0x08)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4-0x13</p></td>
<td><p>should be “ArEcAvAr”</p></td>
</tr>
<tr class="row-odd"><td><p>byte 0x14–0x19</p></td>
<td><p>Ethernet MAC address (must be 6 bytes)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_LOGO</dt><dd><p>Set logo in HTTP</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x18</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>Page# (0/1/2/3) (0xff –&gt; clear OEM logo)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4/5/6/7</p></td>
<td><p>0x55/0xaa/0xa5/0x5a</p></td>
</tr>
<tr class="row-odd"><td><p>byte 8</p></td>
<td><p>TITLE.JPG data (each page must be 2000 bytes)</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>page0 1st 2 byte must be
actual length of the JPG file</p>
</div>
</td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_POLL_EVENT</dt><dd><p>Poll If Event Log Changed</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x19</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_GET_EVENT</dt><dd><p>Read Event</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x1a</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>Event Page (0:1st page/1/2/3:last page)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_GET_HW_MONITOR</dt><dd><p>Get HW monitor data</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x1b</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p># of FANs(example 2)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4</p></td>
<td><p># of Voltage sensor(example 3)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 5</p></td>
<td><p># of temperature sensor(example 2)</p></td>
</tr>
<tr class="row-even"><td><p>byte 6</p></td>
<td><p># of power</p></td>
</tr>
<tr class="row-odd"><td><p>byte 7/8</p></td>
<td><p>Fan#0 (RPM)</p></td>
</tr>
<tr class="row-even"><td><p>byte 9/10</p></td>
<td><p>Fan#1</p></td>
</tr>
<tr class="row-odd"><td><p>byte 11/12</p></td>
<td><p>Voltage#0 original value in <code class="docutils literal notranslate"><span class="pre">*1000</span></code></p></td>
</tr>
<tr class="row-even"><td><p>byte 13/14</p></td>
<td><p>Voltage#0 value</p></td>
</tr>
<tr class="row-odd"><td><p>byte 15/16</p></td>
<td><p>Voltage#1 org</p></td>
</tr>
<tr class="row-even"><td><p>byte 17/18</p></td>
<td><p>Voltage#1</p></td>
</tr>
<tr class="row-odd"><td><p>byte 19/20</p></td>
<td><p>Voltage#2 org</p></td>
</tr>
<tr class="row-even"><td><p>byte 21/22</p></td>
<td><p>Voltage#2</p></td>
</tr>
<tr class="row-odd"><td><p>byte 23</p></td>
<td><p>Temp#0</p></td>
</tr>
<tr class="row-even"><td><p>byte 24</p></td>
<td><p>Temp#1</p></td>
</tr>
<tr class="row-odd"><td><p>byte 25</p></td>
<td><p>Power indicator (bit0   power#0,
bit1   power#1)</p></td>
</tr>
<tr class="row-even"><td><p>byte 26</p></td>
<td><p>UPS indicator</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_QUICK_CREATE</dt><dd><blockquote>
<div><p>Quick create raid/volume set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x20</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3/4/5/6</p></td>
<td><p>raw capacity</p></td>
</tr>
<tr class="row-even"><td><p>byte 7</p></td>
<td><p>raid level</p></td>
</tr>
<tr class="row-odd"><td><p>byte 8</p></td>
<td><p>stripe size</p></td>
</tr>
<tr class="row-even"><td><p>byte 9</p></td>
<td><p>spare</p></td>
</tr>
<tr class="row-odd"><td><p>byte 10/11/12/13</p></td>
<td><p>device mask (the devices to create raid/volume)</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This function is removed, application like
to implement quick create function</p>
<p>need to use GUI_CREATE_RAIDSET and GUI_CREATE_VOLUMESET function.</p>
</dd>
<dt>GUI_GET_INFO_R</dt><dd><p>Get Raid Set Information</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x20</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>raidset#</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sGUI_RAIDSET
{
        BYTE grsRaidSetName[16];
        DWORD grsCapacity;
        DWORD grsCapacityX;
        DWORD grsFailMask;
        BYTE grsDevArray[32];
        BYTE grsMemberDevices;
        BYTE grsNewMemberDevices;
        BYTE grsRaidState;
        BYTE grsVolumes;
        BYTE grsVolumeList[16];
        BYTE grsRes1;
        BYTE grsRes2;
        BYTE grsRes3;
        BYTE grsFreeSegments;
        DWORD grsRawStripes[8];
        DWORD grsRes4;
        DWORD grsRes5; //     Total to 128 bytes
        DWORD grsRes6; //     Total to 128 bytes
} sGUI_RAIDSET, *pGUI_RAIDSET;
</pre></div>
</div>
</dd>
<dt>GUI_GET_INFO_V</dt><dd><p>Get Volume Set Information</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x21</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>volumeset#</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sGUI_VOLUMESET
{
        BYTE gvsVolumeName[16]; //     16
        DWORD gvsCapacity;
        DWORD gvsCapacityX;
        DWORD gvsFailMask;
        DWORD gvsStripeSize;
        DWORD gvsNewFailMask;
        DWORD gvsNewStripeSize;
        DWORD gvsVolumeStatus;
        DWORD gvsProgress; //     32
        sSCSI_ATTR gvsScsi;
        BYTE gvsMemberDisks;
        BYTE gvsRaidLevel; //     8
        BYTE gvsNewMemberDisks;
        BYTE gvsNewRaidLevel;
        BYTE gvsRaidSetNumber;
        BYTE gvsRes0; //     4
        BYTE gvsRes1[4]; //     64 bytes
} sGUI_VOLUMESET, *pGUI_VOLUMESET;
</pre></div>
</div>
</dd>
<dt>GUI_GET_INFO_P</dt><dd><p>Get Physical Drive Information</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x22</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>drive # (from 0 to max-channels - 1)</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sGUI_PHY_DRV
{
        BYTE gpdModelName[40];
        BYTE gpdSerialNumber[20];
        BYTE gpdFirmRev[8];
        DWORD gpdCapacity;
        DWORD gpdCapacityX; //     Reserved for expansion
        BYTE gpdDeviceState;
        BYTE gpdPioMode;
        BYTE gpdCurrentUdmaMode;
        BYTE gpdUdmaMode;
        BYTE gpdDriveSelect;
        BYTE gpdRaidNumber; //     0xff if not belongs to a raid set
        sSCSI_ATTR gpdScsi;
        BYTE gpdReserved[40]; //     Total to 128 bytes
} sGUI_PHY_DRV, *pGUI_PHY_DRV;
</pre></div>
</div>
</dd>
<dt>GUI_GET_INFO_S</dt><dd><p>Get System Information</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x23</p></td>
</tr>
</tbody>
</table>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>typedef struct sCOM_ATTR
{
        BYTE comBaudRate;
        BYTE comDataBits;
        BYTE comStopBits;
        BYTE comParity;
        BYTE comFlowControl;
} sCOM_ATTR, *pCOM_ATTR;
typedef struct sSYSTEM_INFO
{
        BYTE gsiVendorName[40];
        BYTE gsiSerialNumber[16];
        BYTE gsiFirmVersion[16];
        BYTE gsiBootVersion[16];
        BYTE gsiMbVersion[16];
        BYTE gsiModelName[8];
        BYTE gsiLocalIp[4];
        BYTE gsiCurrentIp[4];
        DWORD gsiTimeTick;
        DWORD gsiCpuSpeed;
        DWORD gsiICache;
        DWORD gsiDCache;
        DWORD gsiScache;
        DWORD gsiMemorySize;
        DWORD gsiMemorySpeed;
        DWORD gsiEvents;
        BYTE gsiMacAddress[6];
        BYTE gsiDhcp;
        BYTE gsiBeeper;
        BYTE gsiChannelUsage;
        BYTE gsiMaxAtaMode;
        BYTE gsiSdramEcc; //     1:if ECC enabled
        BYTE gsiRebuildPriority;
        sCOM_ATTR gsiComA; //     5 bytes
        sCOM_ATTR gsiComB; //     5 bytes
        BYTE gsiIdeChannels;
        BYTE gsiScsiHostChannels;
        BYTE gsiIdeHostChannels;
        BYTE gsiMaxVolumeSet;
        BYTE gsiMaxRaidSet;
        BYTE gsiEtherPort; //     1:if ether net port supported
        BYTE gsiRaid6Engine; //     1:Raid6 engine supported
        BYTE gsiRes[75];
} sSYSTEM_INFO, *pSYSTEM_INFO;
</pre></div>
</div>
</dd>
<dt>GUI_CLEAR_EVENT</dt><dd><p>Clear System Event</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x24</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MUTE_BEEPER</dt><dd><p>Mute current beeper</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x30</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_BEEPER_SETTING</dt><dd><p>Disable beeper</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x31</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>0-&gt;disable, 1-&gt;enable</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_SET_PASSWORD</dt><dd><p>Change password</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x32</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>pass word length ( must &lt;= 15 )</p></td>
</tr>
<tr class="row-even"><td><p>byte 4</p></td>
<td><p>password (must be alpha-numerical)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_HOST_INTERFACE_MODE</dt><dd><p>Set host interface mode</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x33</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>0-&gt;Independent, 1-&gt;cluster</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_REBUILD_PRIORITY</dt><dd><p>Set rebuild priority</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x34</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>0/1/2/3 (low-&gt;high)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MAX_ATA_MODE</dt><dd><p>Set maximum ATA mode to be used</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x35</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>0/1/2/3 (133/100/66/33)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_RESET_CONTROLLER</dt><dd><p>Reset Controller</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x36
* Response with VT100 screen (discard it)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_COM_PORT_SETTING</dt><dd><p>COM port setting</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x37</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>0-&gt;COMA (term port),
1-&gt;COMB (debug port)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4</p></td>
<td><p>0/1/2/3/4/5/6/7
(1200/2400/4800/9600/19200/38400/57600/115200)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 5</p></td>
<td><p>data bit
(0:7 bit, 1:8 bit   must be 8 bit)</p></td>
</tr>
<tr class="row-even"><td><p>byte 6</p></td>
<td><p>stop bit (0:1, 1:2 stop bits)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 7</p></td>
<td><p>parity (0:none, 1:off, 2:even)</p></td>
</tr>
<tr class="row-even"><td><p>byte 8</p></td>
<td><p>flow control
(0:none, 1:xon/xoff, 2:hardware =&gt; must use none)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_NO_OPERATION</dt><dd><p>No operation</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x38</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DHCP_IP</dt><dd><p>Set DHCP option and local IP address</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x39</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>0:dhcp disabled, 1:dhcp enabled</p></td>
</tr>
<tr class="row-even"><td><p>byte 4/5/6/7</p></td>
<td><p>IP address</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_PASS_THROUGH</dt><dd><p>Create pass through disk</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x40</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>device #</p></td>
</tr>
<tr class="row-even"><td><p>byte 4</p></td>
<td><p>scsi channel (0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 5</p></td>
<td><p>scsi id (0–&gt;15)</p></td>
</tr>
<tr class="row-even"><td><p>byte 6</p></td>
<td><p>scsi lun (0–&gt;7)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 7</p></td>
<td><p>tagged queue (1   enabled)</p></td>
</tr>
<tr class="row-even"><td><p>byte 8</p></td>
<td><p>cache mode (1   enabled)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 9</p></td>
<td><p>max speed (0/1/2/3/4,
async/20/40/80/160 for scsi)
(0/1/2/3/4, 33/66/100/133/150 for ide  )</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MODIFY_PASS_THROUGH</dt><dd><p>Modify pass through disk</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x41</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>device #</p></td>
</tr>
<tr class="row-even"><td><p>byte 4</p></td>
<td><p>scsi channel (0/1)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 5</p></td>
<td><p>scsi id (0–&gt;15)</p></td>
</tr>
<tr class="row-even"><td><p>byte 6</p></td>
<td><p>scsi lun (0–&gt;7)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 7</p></td>
<td><p>tagged queue (1   enabled)</p></td>
</tr>
<tr class="row-even"><td><p>byte 8</p></td>
<td><p>cache mode (1   enabled)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 9</p></td>
<td><p>max speed (0/1/2/3/4,
async/20/40/80/160 for scsi)
(0/1/2/3/4, 33/66/100/133/150 for ide  )</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_PASS_THROUGH</dt><dd><p>Delete pass through disk</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x42</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>device# to be deleted</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_IDENTIFY_DEVICE</dt><dd><p>Identify Device</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x43</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>Flash Method
(0:flash selected, 1:flash not selected)</p></td>
</tr>
<tr class="row-even"><td><p>byte 4/5/6/7</p></td>
<td><p>IDE device mask to be flashed
.. Note:: no response data available</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_RAIDSET</dt><dd><p>Create Raid Set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x50</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3/4/5/6</p></td>
<td><p>device mask</p></td>
</tr>
<tr class="row-even"><td><p>byte 7-22</p></td>
<td><p>raidset name (if byte 7 == 0:use default)</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_RAIDSET</dt><dd><p>Delete Raid Set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x51</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>raidset#</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_EXPAND_RAIDSET</dt><dd><p>Expand Raid Set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x52</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>raidset#</p></td>
</tr>
<tr class="row-even"><td><p>byte 4/5/6/7</p></td>
<td><p>device mask for expansion</p></td>
</tr>
<tr class="row-odd"><td><p>byte 8/9/10</p></td>
<td><p>(8:0 no change, 1 change, 0xff:terminate,
9:new raid level,
10:new stripe size
0/1/2/3/4/5-&gt;4/8/16/32/64/128K )</p></td>
</tr>
<tr class="row-even"><td><p>byte 11/12/13</p></td>
<td><p>repeat for each volume in the raidset</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_ACTIVATE_RAIDSET</dt><dd><p>Activate incomplete raid set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x53</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>raidset#</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_HOT_SPARE</dt><dd><p>Create hot spare disk</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x54</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3/4/5/6</p></td>
<td><p>device mask for hot spare creation</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_HOT_SPARE</dt><dd><p>Delete hot spare disk</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x55</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3/4/5/6</p></td>
<td><p>device mask for hot spare deletion</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_CREATE_VOLUME</dt><dd><p>Create volume set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x60</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>raidset#</p></td>
</tr>
<tr class="row-even"><td><p>byte 4-19</p></td>
<td><p>volume set name
(if byte4 == 0, use default)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 20-27</p></td>
<td><p>volume capacity (blocks)</p></td>
</tr>
<tr class="row-even"><td><p>byte 28</p></td>
<td><p>raid level</p></td>
</tr>
<tr class="row-odd"><td><p>byte 29</p></td>
<td><p>stripe size
(0/1/2/3/4/5-&gt;4/8/16/32/64/128K)</p></td>
</tr>
<tr class="row-even"><td><p>byte 30</p></td>
<td><p>channel</p></td>
</tr>
<tr class="row-odd"><td><p>byte 31</p></td>
<td><p>ID</p></td>
</tr>
<tr class="row-even"><td><p>byte 32</p></td>
<td><p>LUN</p></td>
</tr>
<tr class="row-odd"><td><p>byte 33</p></td>
<td><p>1 enable tag</p></td>
</tr>
<tr class="row-even"><td><p>byte 34</p></td>
<td><p>1 enable cache</p></td>
</tr>
<tr class="row-odd"><td><p>byte 35</p></td>
<td><p>speed
(0/1/2/3/4-&gt;async/20/40/80/160 for scsi)
(0/1/2/3/4-&gt;33/66/100/133/150 for IDE  )</p></td>
</tr>
<tr class="row-even"><td><p>byte 36</p></td>
<td><p>1 to select quick init</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_MODIFY_VOLUME</dt><dd><p>Modify volume Set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x61</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>volumeset#</p></td>
</tr>
<tr class="row-even"><td><p>byte 4-19</p></td>
<td><p>new volume set name
(if byte4 == 0, not change)</p></td>
</tr>
<tr class="row-odd"><td><p>byte 20-27</p></td>
<td><p>new volume capacity (reserved)</p></td>
</tr>
<tr class="row-even"><td><p>byte 28</p></td>
<td><p>new raid level</p></td>
</tr>
<tr class="row-odd"><td><p>byte 29</p></td>
<td><p>new stripe size
(0/1/2/3/4/5-&gt;4/8/16/32/64/128K)</p></td>
</tr>
<tr class="row-even"><td><p>byte 30</p></td>
<td><p>new channel</p></td>
</tr>
<tr class="row-odd"><td><p>byte 31</p></td>
<td><p>new ID</p></td>
</tr>
<tr class="row-even"><td><p>byte 32</p></td>
<td><p>new LUN</p></td>
</tr>
<tr class="row-odd"><td><p>byte 33</p></td>
<td><p>1 enable tag</p></td>
</tr>
<tr class="row-even"><td><p>byte 34</p></td>
<td><p>1 enable cache</p></td>
</tr>
<tr class="row-odd"><td><p>byte 35</p></td>
<td><p>speed
(0/1/2/3/4-&gt;async/20/40/80/160 for scsi)
(0/1/2/3/4-&gt;33/66/100/133/150 for IDE  )</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_DELETE_VOLUME</dt><dd><p>Delete volume set</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x62</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>volumeset#</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_START_CHECK_VOLUME</dt><dd><p>Start volume consistency check</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x63</p></td>
</tr>
<tr class="row-odd"><td><p>byte 3</p></td>
<td><p>volumeset#</p></td>
</tr>
</tbody>
</table>
</dd>
<dt>GUI_STOP_CHECK_VOLUME</dt><dd><p>Stop volume consistency check</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 26%" />
<col style="width: 74%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>byte 0,1</p></td>
<td><p>length</p></td>
</tr>
<tr class="row-even"><td><p>byte 2</p></td>
<td><p>command code 0x64</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>
<div class="section" id="returned-data">
<h2>4. Returned data<a class="headerlink" href="#returned-data" title="Permalink to this headline">¶</a></h2>
<ol class="upperalpha">
<li><p>Header
3 bytes sequence (0x5E, 0x01, 0x61)</p></li>
<li><p>Length
2 bytes
(low byte 1st, excludes length and checksum byte)</p></li>
<li><p>status or data:</p>
<blockquote>
<div><ol class="arabic">
<li><p>If length == 1 ==&gt; 1 byte status code:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>#define GUI_OK                    0x41
#define GUI_RAIDSET_NOT_NORMAL    0x42
#define GUI_VOLUMESET_NOT_NORMAL  0x43
#define GUI_NO_RAIDSET            0x44
#define GUI_NO_VOLUMESET          0x45
#define GUI_NO_PHYSICAL_DRIVE     0x46
#define GUI_PARAMETER_ERROR       0x47
#define GUI_UNSUPPORTED_COMMAND   0x48
#define GUI_DISK_CONFIG_CHANGED   0x49
#define GUI_INVALID_PASSWORD      0x4a
#define GUI_NO_DISK_SPACE         0x4b
#define GUI_CHECKSUM_ERROR        0x4c
#define GUI_PASSWORD_REQUIRED     0x4d
</pre></div>
</div>
</li>
<li><p>If length &gt; 1:</p>
<blockquote>
<div><p>data block returned from controller
and the contents depends on the command code</p>
</div></blockquote>
</li>
</ol>
</div></blockquote>
</li>
</ol>
<ol class="upperalpha simple" start="5">
<li><p>Checksum
checksum of length and status or data byte</p></li>
</ol>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="bfa.html" class="btn btn-neutral float-right" title="Linux driver for Brocade FC/FCOE adapters" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="aic7xxx.html" class="btn btn-neutral float-left" title="Adaptec Aic7xxx Fast -&gt; Ultra160 Family Manager Set v7.0" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright The kernel development community.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>